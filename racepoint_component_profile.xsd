<?xml version="1.0" encoding="UTF-8"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema">
    <xs:include schemaLocation="./commonConfig.xsd"/>
    <!-- List of shared attributes -->
    <xs:attribute name="protocol">
        <xs:simpleType>
            <xs:restriction base="xs:string">
                <xs:enumeration value="http"/>
                <xs:enumeration value="http-curl"/>
                <xs:enumeration value="https"/>
                <xs:enumeration value="https-insecure"/>
                <xs:enumeration value="telnet"/>
                <xs:enumeration value="non-persistentTCP"/>
                <xs:enumeration value="tcp"/>
                <xs:enumeration value="tcp-tls"/>
                <xs:enumeration value="udp"/>
                <xs:enumeration value="knx"/>
                <xs:enumeration value="ssh"/>
                <xs:enumeration value="SavantCloud"/>
            </xs:restriction>
        </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="authentication">
        <xs:simpleType>
            <xs:restriction base="xs:string">
                <xs:enumeration value="SavantProCam"></xs:enumeration>
                <xs:enumeration value="OAuth2"/>
                <xs:enumeration value="basic"/>
            </xs:restriction>
        </xs:simpleType>
    </xs:attribute>
    <!-- Allow Checksums to be calculated using data that comes before or after -->
    <xs:attribute name="calculate_checksum_based_on_data">
        <xs:simpleType>
            <xs:restriction base="xs:string">
                <xs:enumeration value="before_checksum"/>
                <xs:enumeration value="after_checksum"/>
            </xs:restriction>
        </xs:simpleType>
    </xs:attribute>

    <xs:simpleType name="restrict_media_type">
        <xs:restriction base="xs:string">
            <xs:enumeration value="audio"/>
            <xs:enumeration value="video"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:attribute name="macro_name">
        <xs:simpleType>
            <xs:restriction base="xs:string">
                <xs:enumeration value="ChannelAnalogSelectUsingDigits"/>
                <xs:enumeration value="ChannelDigitalSelectUsingDigits"/>
                <xs:enumeration value="SetVolumeUsingIncreaseDecrease"/>
                <xs:enumeration value="ChannelAnalogSelectUsingUnpaddedDigits"/>
                <xs:enumeration value="RadioFrequencySelectUsingDigits"/>
                <xs:enumeration value="RRDToolRequest"/>
                <xs:enumeration value="ResetContactList"/>
                <xs:enumeration value="ProcessContactListResults"/>
                <xs:enumeration value="UpdateContactListFile"/>
                <xs:enumeration value="UpdateContactList"/>
                <xs:enumeration value="SimulateUserCodeUsingDigits"/>
                <xs:enumeration value="WakeOnLAN_Port_7"/>
                <xs:enumeration value="WakeOnLAN_Port_9"/>
                <xs:enumeration value="SmartPinMacro"/>
            </xs:restriction>
        </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="http_request_type">
        <xs:simpleType>
            <xs:restriction base="xs:string">
                <xs:enumeration value="GET"/>
                <xs:enumeration value="POST"/>
            </xs:restriction>
        </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="type">
        <xs:simpleType>
            <xs:restriction base="xs:string">
                <xs:enumeration value="hex"/>
                <xs:enumeration value="character"/>
            </xs:restriction>
        </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="checksum_type">
        <xs:simpleType>
            <xs:restriction base="xs:string">
                <xs:enumeration value="standard"/>
                <xs:enumeration value="ones_complement"/>
                <xs:enumeration value="twos_complement"/>
                <xs:enumeration value="fletcher_8_ge"/>
                <xs:enumeration value="fletcher_16"/>
                <xs:enumeration value="fletcher_16_philips"/>
                <xs:enumeration value="crc_16_ibm_little_endian"/>
                <xs:enumeration value="crc_16_ibm_big_endian"/>
                <xs:enumeration value="standard_with_bytecount_and_bitmask"/>
                <xs:enumeration value="standard_with_bitmask"/>
                <xs:enumeration value="bitwise_or"/>
                <xs:enumeration value="bitwise_xor"/>
                <xs:enumeration value="bitwise_xor_16"/>
                <xs:enumeration value="bitwise_xor_16_inverse"/>
                <xs:enumeration value="standard_with_xor"/>
                <xs:enumeration value="crc_16_modbus"/>
                <xs:enumeration value="crc_16_modbus_big_endian"/>
                <xs:enumeration value="standard_little_endian"/>
                <xs:enumeration value="crc_16_xmodem"/>
                <xs:enumeration value="crc_16_xmodem_big_endian"/>
                <xs:enumeration value="crc_16_xmodem_sk"/>
                <xs:enumeration value="crc_16_sdlc"/>
                <xs:enumeration value="crc_16_sdlc_trane"/>
                <xs:enumeration value="crc_8_ccit"/>
                <xs:enumeration value="nmea_0183"/>
                <xs:enumeration value="crc_16_heatmiser"/>
                <xs:enumeration value="crc_16_heatmiser_big_endian"/>
                <xs:enumeration value="joly_3232"/>
                <xs:enumeration value="crc_32"/>
                <xs:enumeration value="crc_32_big_endian"/>
                <xs:enumeration value="crc_8_texecom"/>
                <xs:enumeration value="crc_8_hardwire_protocol"/>
                <xs:enumeration value="crc_16_satel"/>
            </xs:restriction>
        </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="checksum_offset_A">
        <xs:simpleType>
            <xs:restriction base="xs:nonNegativeInteger"/>
        </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="checksum_offset_B">
        <xs:simpleType>
            <xs:restriction base="xs:nonNegativeInteger"/>
        </xs:simpleType>
    </xs:attribute>

    <xs:attribute name="unique_identifier">
        <xs:simpleType>
            <xs:restriction base="xs:string">
                <xs:enumeration value="none"/>
                <xs:enumeration value="hostname"/>
                <xs:enumeration value="savant_id"/>
                <xs:enumeration value="flexible_savant_id"/>
                <xs:enumeration value="mac_address"/>
                <xs:enumeration value="ip_address"/>
                <xs:enumeration value="serial_number"/>
                <xs:enumeration value="sonos_id"/>
            </xs:restriction>
        </xs:simpleType>
    </xs:attribute>

    <xs:attribute name="alias">
        <xs:simpleType>
            <xs:restriction base="xs:string"/>
        </xs:simpleType>
    </xs:attribute>

    <xs:attribute name="name_on_component" type="xs:string"/>
    <xs:attribute name="response_time_length_ms" type="xs:int"/>

    <xs:simpleType name="notes_t">
        <xs:restriction base="xs:string"/>
    </xs:simpleType>

    <xs:complexType name="component_t">
        <xs:sequence>
            <xs:element name="notes" type="notes_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="component_properties" type="component_properties_t" minOccurs="0"
            maxOccurs="1"/>
            <xs:element name="resource_ui_mappings" type="resource_ui_mappings_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="device_control_interfaces" type="device_control_interfaces_t"
                minOccurs="0" maxOccurs="1"/>
            <xs:element name="control_interfaces" type="control_interfaces_t" minOccurs="0"
                maxOccurs="1"/>
            <xs:element name="display" type="display_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="savant_user_inputs" type="savant_user_inputs_t" minOccurs="0"
                maxOccurs="1"/>
            <xs:element name="media_interfaces" type="media_interfaces_t" minOccurs="0"
                maxOccurs="1"/>
            <xs:element name="modular_chassis" type="modular_chassis_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="logical_ios" type="module_logical_ios_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="state_variable_list" type="state_variable_list_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="logical_component" type="logical_component_t" minOccurs="0"
                maxOccurs="unbounded"/>
        </xs:sequence>
        <xs:attribute name="manufacturer" type="xs:string" use="required"/>
        <xs:attribute name="model" type="xs:string" use="required"/>
        <xs:attribute name="device_class" type="device_class_type" use="required"/>
        <xs:attribute name="minimum_component_engine_version" type="xs:string" use="required"/>
        <xs:attribute ref="unique_identifier" use="optional"/>
        <xs:attribute ref="alias" use="optional"/>
        <xs:attribute name="rpm_xml_version" type="xs:string" use="optional"/>
        <xs:attribute name="rpm_xml_version_date" type="xs:string" use="optional"/>
        <xs:attribute name="minimum_compatible_xml_version" type="xs:string" use="optional"/>
    </xs:complexType>
    <xs:element name="component" type="component_t"/>

    <xs:complexType name="control_interfaces_t">
        <xs:all>
            <xs:element name="ir" type="ir_t" minOccurs="0"/>
            <xs:element name="serial_pwm" type="serial_pwm_t" minOccurs="0"/>
            <xs:element name="ip" type="ip_t" minOccurs="0"/>
            <xs:element name="rs232" type="rs232_t" minOccurs="0"/>
            <xs:element name="rs422" type="rs232_t" minOccurs="0"/>
            <xs:element name="trigger" type="trigger_t" minOccurs="0"/>
            <xs:element name="contact_sensor" type="contact_sensor_t" minOccurs="0"/>
            <!-- <xs:element name="usb" type="usb_t" minOccurs="0"></xs:element> -->
            <xs:element name="savant_keypad_link" type="savant_keypad_link_t" minOccurs="0"/>
        </xs:all>
        <xs:attribute name="preferred" use="required">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="ir"/>
                    <xs:enumeration value="serial_pwm"/>
                    <xs:enumeration value="ip"/>
                    <xs:enumeration value="rs232"/>
                    <xs:enumeration value="trigger"/>
                    <xs:enumeration value="contact_sensor"/>
                    <!-- <xs:enumeration value="usb"></xs:enumeration> -->
                    <xs:enumeration value="savant_keypad_link"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="control_optional" use="optional" type="xs:boolean"> </xs:attribute>
    </xs:complexType>

    <xs:complexType name="display_resolution_t">
        <xs:attribute name="horizontal_pixel_size" use="required" type="xs:positiveInteger"/>
        <xs:attribute name="vertical_pixel_size" use="required" type="xs:positiveInteger"/>
        <xs:attribute name="refresh_rate" use="optional" type="xs:positiveInteger"/>
    </xs:complexType>

    <xs:complexType name="display_t">
        <xs:sequence>
            <xs:element name="preferred_resolution" type="display_resolution_t" minOccurs="1"
                maxOccurs="1"/>
            <xs:element name="supported_resolution" type="display_resolution_t" minOccurs="0"
                maxOccurs="unbounded"/>
        </xs:sequence>
        <xs:attribute use="optional" name="diagonal_size_inches">
            <xs:simpleType>
                <xs:restriction base="xs:float">
                    <xs:minExclusive value="0"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
    </xs:complexType>

    <xs:complexType name="savant_user_input_t">
        <xs:attribute name="type" use="required">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="hardbutton"/>
                    <xs:enumeration value="touch_ring"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="name" use="required" type="xs:string"/>
        <xs:attribute name="description" use="optional" type="xs:string"/>
    </xs:complexType>

    <xs:complexType name="savant_user_inputs_t">
        <xs:sequence>
            <xs:element name="savant_user_input" type="savant_user_input_t" minOccurs="1"
                maxOccurs="unbounded"/>
        </xs:sequence>
    </xs:complexType>

    <xs:complexType name="trigger_t">
        <xs:attribute ref="trigger_active_voltage" use="required"/>
        <xs:attribute ref="name_on_component" use="optional"/>
    </xs:complexType>

    <xs:complexType name="contact_sensor_t">
        <xs:attribute ref="sensor_active" use="required"/>
        <xs:attribute ref="name_on_component" use="optional"/>
    </xs:complexType>

    <xs:complexType name="status_messages_t">
        <xs:sequence>
            <xs:element name="status_message" type="status_message_t" minOccurs="1"
                maxOccurs="unbounded"/>
        </xs:sequence>
    </xs:complexType>

    <xs:complexType name="response_status_message_t">
        <xs:complexContent>
            <xs:extension base="status_message_t">
                <xs:attribute ref="status" use="required"/>
            </xs:extension>
        </xs:complexContent>
    </xs:complexType>

    <xs:complexType name="status_message_t">
        <xs:sequence>
            <xs:group ref="message_elements_g" minOccurs="1" maxOccurs="unbounded"/>
            <xs:element name="append_data_to_state_names"
                type="status_message_append_data_to_state_names_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="run_elements" type="status_message_run_elements_t" minOccurs="0"
                maxOccurs="1"/>
        </xs:sequence>
        <xs:attribute name="name" use="required"/>
        <xs:attribute name="all_logical_components" use="optional">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="true"/>
                    <xs:enumeration value="false"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="check_variable_is_true" type="xs:string" use="optional"/>
        <xs:attribute name="wildcard_source_name" type="xs:string" use="optional"/>
        <!-- assumed to be state_variable -->
        <xs:attribute name="wildcard_format" type="xs:string" use="optional"/>
    </xs:complexType>

    <xs:group name="message_elements_g">
        <xs:choice>
            <xs:element name="bitmask_byte" type="status_message_bitmask_byte_t"/>
            <xs:element name="constant" type="status_message_constant_t"/>
            <xs:element name="checksum" type="status_message_checksum_t"/>
            <xs:element name="data" type="status_message_data_t"/>
            <xs:element name="root_object" type="status_message_root_object_t"/>
            <xs:element name="repeat" type="status_message_repeat_t"/>
            <!--   <xs:element name="length" type="status_message_length_t"/>-->
        </xs:choice>
    </xs:group>

    <xs:complexType name="status_message_constant_t">
        <xs:simpleContent>
            <xs:extension base="xs:string">
                <xs:attribute ref="type" use="required"/>
            </xs:extension>
        </xs:simpleContent>

    </xs:complexType>

    <xs:complexType name="status_message_checksum_t">
        <xs:attribute name="type" use="required">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="character"/>
                    <xs:enumeration value="hex"/>
                    <xs:enumeration value="character_hex"/>
                    <xs:enumeration value="bcd_hex"/>
                    <xs:enumeration value="unpacked_bcd_hex"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="constant_length" use="required"/>
        <xs:attribute ref="checksum_offset_A"/>
        <xs:attribute ref="checksum_offset_B"/>
        <xs:attribute ref="checksum_type"/>
        <xs:attribute ref="calculate_checksum_based_on_data" use="optional"/>
        <xs:attribute name="source_data_type" use="optional">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="hex"/>
                    <xs:enumeration value="character"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
    </xs:complexType>

    <xs:complexType name="status_message_bitmask_t">
        <xs:sequence>
            <xs:element name="update" type="status_message_update_t" minOccurs="1"
                maxOccurs="unbounded"/>
        </xs:sequence>
        <xs:attribute name="mask" use="required">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:pattern value="([X10]{8}){1,}"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
    </xs:complexType>

    <xs:complexType name="status_message_bitmask_byte_t">
        <xs:sequence>
            <xs:element name="bitmask" type="status_message_bitmask_t" minOccurs="1"
                maxOccurs="unbounded"/>
        </xs:sequence>
        <xs:attribute name="match_required" use="optional">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="yes"/>
                    <xs:enumeration value="no"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="constant_length" use="optional" default="1" type="xs:unsignedShort"/>
    </xs:complexType>

    <xs:complexType name="status_message_data_byte_t">
        <xs:attribute name="from" use="required">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:pattern value="[0123456789ABCDEF]{2}"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="to" use="required" type="xs:string"/>
    </xs:complexType>

    <xs:complexType name="status_message_data_byte_map_t">
        <xs:sequence>
            <xs:element name="byte" type="status_message_data_byte_t" minOccurs="1"
                maxOccurs="unbounded"/>
        </xs:sequence>
    </xs:complexType>

    <xs:complexType name="status_message_data_t">
        <xs:sequence>
            <xs:element name="update" type="status_message_update_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="data_map" type="data_map_t" minOccurs="0"/>
            <xs:element name="byte_map" type="status_message_data_byte_map_t" maxOccurs="1"
                minOccurs="0"/>
        </xs:sequence>
        <xs:attribute name="type" use="required">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="character"/>
                    <xs:enumeration value="hex"/>
                    <xs:enumeration value="character_hex"/>
                    <xs:enumeration value="bcd_hex"/>
                    <xs:enumeration value="unpacked_bcd_hex"/>
                    <xs:enumeration value="unicode"/>
                    <xs:enumeration value="character_hex_big_endian"/>
                    <xs:enumeration value="hex_big_endian"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="constant_length"/>
        <xs:attribute name="variable_length"/>
        <xs:attribute name="terminator_type">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="character"/>
                    <xs:enumeration value="hex"/>
                    <xs:enumeration value="unicode"/>
                    <xs:enumeration value="end_of_data"/>
                    <xs:enumeration value="non_printable_byte"/>
                    <xs:enumeration value="bitmask"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="terminator"/>
        <xs:attribute name="list_name"/>
    </xs:complexType>

    <!-- SCR 23657 -->
    <xs:complexType name="status_message_root_object_t">
        <xs:sequence>
            <xs:element name="values" type="status_message_values_t" minOccurs="1"
                maxOccurs="unbounded"/>
        </xs:sequence>
        <xs:attribute name="name" use="required" type="xs:string"/>
        <xs:attribute name="format">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="xml"/>
                    <xs:enumeration value="json"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="matches_required" use="required">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="none"/>
                    <xs:enumeration value="all"/>
                    <xs:enumeration value="at_least_one"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="encoding" use="optional">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="none"/>
                    <xs:enumeration value="base64"/>

                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
    </xs:complexType>
    <!-- SCR 23657 -->
    <xs:complexType name="status_message_values_t">
        <xs:sequence>
            <xs:element name="update" type="status_message_update_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="value_map" type="value_map_t" minOccurs="0"/>
            <xs:element name="append_identifier" type="status_message_append_identifier_t"
                minOccurs="0" maxOccurs="unbounded"/>
        </xs:sequence>
        <xs:attribute name="path" use="required" type="xs:string"/>
        <xs:attribute name="matches_required" use="required">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="none"/>
                    <xs:enumeration value="all"/>
                    <xs:enumeration value="at_least_one"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="clear_states_when_missing" use="optional" type="xs:boolean"/>
        <xs:attribute name="multiple_result_json" use="optional" type="xs:boolean"/>
    </xs:complexType>
    <!-- SCR 23657 -->
    <xs:complexType name="value_map_t">
        <xs:sequence>
            <xs:group ref="data_map_child_g" minOccurs="1" maxOccurs="unbounded"/>
        </xs:sequence>
        <xs:attribute name="match_required" use="required">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="yes"/>
                    <xs:enumeration value="no"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
    </xs:complexType>
    <!-- SCR 23657 -->
    <xs:complexType name="status_message_append_identifier_t">
        <xs:attribute name="path" use="required" type="xs:string"/>
        <!-- SCR 45513 -->
        <xs:attribute name="name" use="required" type="xs:string"/>
        <xs:attribute name="note" use="required" type="xs:string"/>
    </xs:complexType>

    <xs:complexType name="status_message_update_t">
        <xs:simpleContent>
            <xs:extension base="xs:string">
                <xs:attribute name="state" use="required">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:minLength value="1"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
                <xs:attribute name="type" use="required">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="string"/>
                            <xs:enumeration value="boolean"/>
                            <xs:enumeration value="integer"/>
                            <xs:enumeration value="float"/>
                            <xs:enumeration value="percent_escaped_string"/>
                            <xs:enumeration value="protected_string"/>
                            <xs:enumeration value="semi_protected_string"/>
                            <xs:enumeration value="trane_current_temp"/>
                            <xs:enumeration value="knx_temp_float"/>
                            <xs:enumeration value="date"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
                <xs:attribute name="format" use="optional">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="NSDate"/>
                            <xs:enumeration value="UnixEpoch"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
            </xs:extension>
        </xs:simpleContent>
    </xs:complexType>

    <xs:complexType name="status_message_append_data_to_state_names_t">
        <xs:attribute name="state" type="xs:string" use="required"/>
        <xs:attribute name="note" type="xs:string" use="optional"/>
    </xs:complexType>

    <xs:complexType name="status_message_repeat_t">
        <xs:group ref="message_elements_g"/>
        <xs:attribute name="variable_repeat"/>
        <xs:attribute name="constant_repeat"/>
    </xs:complexType>

    <xs:complexType name="status_message_length_t">
        <xs:attribute ref="type" use="required"/>
    </xs:complexType>

    <xs:complexType name="status_message_run_elements_t">
        <xs:sequence>
            <xs:element name="actions" type="status_message_run_elements_actions_t" maxOccurs="1"
                minOccurs="1"/>
        </xs:sequence>
    </xs:complexType>

    <xs:complexType name="status_message_run_elements_actions_t">
        <xs:sequence>
            <xs:element name="action" type="status_message_run_elements_action_t" minOccurs="1"
                maxOccurs="unbounded"/>
        </xs:sequence>
    </xs:complexType>

    <xs:complexType name="status_message_run_elements_action_t">
        <xs:sequence>
            <xs:element name="execute_on_state_variable_condition"
                type="execute_on_state_variable_condition" minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="update_state_variable" type="update_state_variable_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="update_volume_variables" type="update_state_variable_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="update_date_state_variable" type="update_state_variable_t"
                minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="command_interface"
                type="status_message_run_elements_command_interface_t" minOccurs="0"
                maxOccurs="unbounded"> </xs:element>
            <xs:element name="execute_action_after_delay" minOccurs="0" maxOccurs="unbounded">
                <xs:complexType>
                    <xs:sequence>
                        <xs:element name="with_arg" minOccurs="0" maxOccurs="unbounded">
                            <xs:complexType>
                                <xs:attribute name="name" type="xs:string" use="required"/>
                                <xs:attribute name="value" type="xs:string" use="required"/>
                            </xs:complexType>
                        </xs:element>
                    </xs:sequence>
                    <xs:attribute name="ms_delay" type="xs:integer" use="required"/>
                    <xs:attribute name="send_on_reconnect" type="xs:boolean" use="optional"/>
                    <xs:attribute name="action_name" type="xs:string" use="required"/>
                    <xs:attribute name="action_type" use="required">
                        <xs:simpleType>
                            <xs:restriction base="xs:string">
                                <xs:enumeration value="CUSTOM"/>
                                <xs:enumeration value="RESOURCE"/>
                            </xs:restriction>
                        </xs:simpleType>
                    </xs:attribute>
                    <xs:attribute name="resource_type" type="xs:string" use="optional"/>
                    <xs:attribute name="use_polling_queue" type="xs:boolean" use="optional"/>
                    <xs:attribute name="clear_duplicated" type="xs:boolean" use="optional"/>
                    <xs:attribute name="set_state_name" type="xs:string" use="optional"/>
                </xs:complexType>
            </xs:element>

        </xs:sequence>
        <xs:attribute name="name" type="xs:string" use="required"/>

    </xs:complexType>

    <xs:complexType name="status_message_run_elements_command_interface_t">
        <xs:sequence>
            <xs:element name="command" type="status_message_run_elements_command_t"
                maxOccurs="unbounded"/>
        </xs:sequence>
        <xs:attribute name="interface" use="required">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="ir"/>
                    <xs:enumeration value="serial_pwm"/>
                    <xs:enumeration value="rs232"/>
                    <xs:enumeration value="ip"/>
                    <xs:enumeration value="trigger"/>
                    <xs:enumeration value="contact_sensor"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
    </xs:complexType>


    <xs:complexType name="status_message_run_elements_command_t">
        <xs:sequence>
            <xs:element name="command_string" type="command_string_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="parameter_list" type="parameter_list_t" minOccurs="0"/>
            <xs:element name="delay" minOccurs="0">
                <xs:complexType>
                    <xs:attribute name="ms_delay" type="xs:int"/>
                </xs:complexType>
            </xs:element>

        </xs:sequence>

        <xs:attribute name="response_required">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="no"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>

        <xs:attribute name="encrypt" use="optional">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="napco"/>
                    <xs:enumeration value="aes128"/>
                    <xs:enumeration value="none"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>


        <xs:attribute name="append_checksum" use="optional">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="yes"/>
                    <xs:enumeration value="no"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute ref="checksum_type" use="optional"/>
        <xs:attribute ref="checksum_offset_A" use="optional"/>
        <xs:attribute ref="checksum_offset_B" use="optional"/>


    </xs:complexType>

    <xs:group name="data_map_child_g">
        <xs:choice>
            <xs:element name="map" type="map_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="convert" type="convert_t" minOccurs="0" maxOccurs="1"/>
        </xs:choice>
    </xs:group>



    <xs:complexType name="data_map_t">
        <xs:sequence>
            <xs:group ref="data_map_child_g" minOccurs="1" maxOccurs="unbounded"/>
        </xs:sequence>
        <xs:attribute name="match_required" use="required">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="yes"/>
                    <xs:enumeration value="no"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
    </xs:complexType>

    <xs:complexType name="map_t">
        <xs:sequence>
            <xs:element name="update" type="status_message_update_t" minOccurs="1"
                maxOccurs="unbounded"/>
        </xs:sequence>
        <xs:attribute name="key" use="required"/>

    </xs:complexType>

    <!-- Data Map Conversions -->

    <xs:complexType name="add_t" mixed="true">
        <xs:sequence>
            <xs:element name="originalValue" type="originalValue_t" minOccurs="0" maxOccurs="1"/>
            <xs:group ref="conversion_operator_g" minOccurs="0" maxOccurs="unbounded"/>
        </xs:sequence>
    </xs:complexType>
    <xs:complexType name="subtract_t" mixed="true">
        <xs:sequence>
            <xs:element name="originalValue" type="originalValue_t" minOccurs="0" maxOccurs="1"/>
            <xs:group ref="conversion_operator_g" minOccurs="0" maxOccurs="unbounded"/>
        </xs:sequence>
    </xs:complexType>
    <xs:complexType name="multiply_t" mixed="true">
        <xs:sequence>
            <xs:element name="originalValue" type="originalValue_t" minOccurs="0" maxOccurs="1"/>
            <xs:group ref="conversion_operator_g" minOccurs="0" maxOccurs="unbounded"/>
        </xs:sequence>
    </xs:complexType>
    <xs:complexType name="divide_t" mixed="true">
        <xs:sequence>
            <xs:element name="originalValue" type="originalValue_t" minOccurs="0" maxOccurs="1"/>
            <xs:group ref="conversion_operator_g" minOccurs="0" maxOccurs="unbounded"/>
        </xs:sequence>
    </xs:complexType>
    <xs:complexType name="exponentiate_t" mixed="true">
        <xs:sequence>
            <xs:element name="originalValue" type="originalValue_t" minOccurs="0" maxOccurs="1"/>
            <xs:group ref="conversion_operator_g" minOccurs="0" maxOccurs="unbounded"/>
        </xs:sequence>
    </xs:complexType>
    <xs:complexType name="mod_t" mixed="true">
        <xs:sequence>
            <xs:element name="originalValue" type="originalValue_t" minOccurs="0" maxOccurs="1"/>
            <xs:group ref="conversion_operator_g" minOccurs="0" maxOccurs="unbounded"/>
        </xs:sequence>
    </xs:complexType>
    <xs:complexType name="round_t" mixed="true">
        <xs:sequence>
            <xs:element name="originalValue" type="originalValue_t" minOccurs="0" maxOccurs="1"/>
            <xs:group ref="conversion_operator_g" minOccurs="0" maxOccurs="unbounded"/>
        </xs:sequence>
    </xs:complexType>
    <xs:complexType name="floor_t" mixed="true">
        <xs:sequence>
            <xs:element name="originalValue" type="originalValue_t" minOccurs="0" maxOccurs="1"/>
            <xs:group ref="conversion_operator_g" minOccurs="0" maxOccurs="unbounded"/>
        </xs:sequence>
    </xs:complexType>
    <xs:complexType name="ceiling_t" mixed="true">
        <xs:sequence>
            <xs:element name="originalValue" type="originalValue_t" minOccurs="0" maxOccurs="1"/>
            <xs:group ref="conversion_operator_g" minOccurs="0" maxOccurs="unbounded"/>
        </xs:sequence>
    </xs:complexType>
    <xs:complexType name="xor_t" mixed="true">
        <xs:sequence>
            <xs:element name="originalValue" type="originalValue_t" minOccurs="0" maxOccurs="1"/>
            <xs:group ref="conversion_operator_g" minOccurs="0" maxOccurs="unbounded"/>
        </xs:sequence>
    </xs:complexType>

    <xs:complexType name="originalValue_t"> </xs:complexType>
    <xs:complexType name="abs_t"> </xs:complexType>

    <xs:complexType name="media_interface_properties_t">
        <xs:sequence>
            <xs:element name="surround_sound_properties" type="surround_sound_property_t" minOccurs="0" maxOccurs="1"></xs:element>
        </xs:sequence>
    </xs:complexType>

    <xs:complexType name="surround_sound_property_t">
        <xs:sequence>
            <xs:element name="channel" type="surround_sound_channel_type" minOccurs="0" maxOccurs="unbounded"></xs:element>
        </xs:sequence>
    </xs:complexType>

    <xs:group name="conversion_operator_g">
        <xs:choice>
            <xs:element name="add" type="add_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="subtract" type="subtract_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="multiply" type="multiply_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="divide" type="divide_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="exponentiate" type="exponentiate_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="mod" type="mod_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="floor" type="floor_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="round" type="round_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="ceiling" type="ceiling_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="xor" type="xor_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="abs" type="abs_t" minOccurs="0" maxOccurs="1"/>
        </xs:choice>
    </xs:group>



    <xs:complexType name="convert_t">
        <xs:sequence>
            <xs:group ref="conversion_operator_g" minOccurs="1" maxOccurs="unbounded"/>
            <xs:element name="update" type="status_message_update_t" minOccurs="1"
                maxOccurs="unbounded"/>
        </xs:sequence>
        <xs:attribute name="output_format" use="optional">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:pattern value="[-.]*[%]([0123456789+-\. ])*[sdfegxXo]"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
    </xs:complexType>


    <xs:group name="streaming_interface_common_elements_g">
        <xs:sequence>
            <xs:element name="send_prefix" type="rs232_control_commands_t" minOccurs="0"
                maxOccurs="1"/>
            <xs:element name="send_postfix" type="rs232_control_commands_t" minOccurs="0"
                maxOccurs="1"/>
            <xs:element name="receive_start_condition" type="rs232_control_commands_t" minOccurs="0"
                maxOccurs="1"/>
            <xs:element name="receive_end_condition" type="receive_end_condition_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="response_codes" type="response_codes_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="substitution" minOccurs="0" maxOccurs="unbounded">
                <xs:complexType>
                    <xs:attribute name="from_hex" use="required">
                        <xs:simpleType>
                            <xs:restriction base="xs:string">
                                <xs:pattern value="[0123456789ABCDEF]{2}"/>
                            </xs:restriction>
                        </xs:simpleType>
                    </xs:attribute>
                    <xs:attribute name="to_hex" use="required">
                        <xs:simpleType>
                            <xs:restriction base="xs:string">
                                <xs:pattern value="([0123456789ABCDEF][0123456789ABCDEF])+"/>
                            </xs:restriction>
                        </xs:simpleType>
                    </xs:attribute>
                </xs:complexType>
            </xs:element>
            <xs:element name="receive_unsubstitution" minOccurs="0" maxOccurs="1">
                <xs:complexType>
                    <xs:attribute name="mode" use="required">
                        <xs:simpleType>
                            <xs:restriction base="xs:string">
                                <xs:enumeration value="enabled"/>
                                <xs:enumeration value="disabled"/>
                            </xs:restriction>
                        </xs:simpleType>
                    </xs:attribute>
                </xs:complexType>
            </xs:element>
            <xs:element name="receive_decryption" minOccurs="0" maxOccurs="1">
                <xs:complexType>
                    <xs:attribute name="type" use="required">
                        <xs:simpleType>
                            <xs:restriction base="xs:string">
                                <xs:enumeration value="napco"/>
                                <xs:enumeration value="aes128"/>
                            </xs:restriction>
                        </xs:simpleType>
                    </xs:attribute>
                </xs:complexType>
            </xs:element>
            <xs:element name="savant_cloud_parameters" type="savant_cloud_params_t" minOccurs="0"/>
        </xs:sequence>
    </xs:group>

    <xs:attributeGroup name="streaming_interface_common_attributes_g">
        <xs:attribute ref="name_on_component" use="optional"/>
        <xs:attribute ref="checksum_type" use="optional"/>
        <xs:attribute ref="calculate_checksum_based_on_data" use="optional"/>
        <xs:attribute ref="checksum_offset_A" use="optional" default="0"/>
        <xs:attribute ref="checksum_offset_B" use="optional" default="0"/>
        <xs:attribute ref="response_time_length_ms" use="required"/>
        <xs:attribute name="prepend_start_condition" default="true" use="optional" type="xs:boolean"/>
        <xs:attribute name="always_remove_start_condition" default="true" use="optional"
            type="xs:boolean"/>
    </xs:attributeGroup>

    <xs:complexType name="streaming_interface_t">
        <xs:group ref="streaming_interface_common_elements_g"/>
        <xs:attributeGroup ref="streaming_interface_common_attributes_g"/>
    </xs:complexType>

    <xs:complexType name="ip_t">
        <xs:complexContent>
            <xs:extension base="streaming_interface_t">
                <xs:sequence minOccurs="0" maxOccurs="1">
                    <xs:element name="http_header" type="http_header_t" minOccurs="0"
                        maxOccurs="unbounded"/>
                    <xs:element name="perform_url_escape_encoding" minOccurs="0" maxOccurs="1">
                        <xs:simpleType>
                            <xs:restriction base="xs:string">
                                <xs:enumeration value="yes"/>
                                <xs:enumeration value="no"/>
                            </xs:restriction>
                        </xs:simpleType>
                    </xs:element>
                </xs:sequence>
                <xs:attribute name="port" use="required"/>
                <xs:attribute name="local_port" use="optional"/>
                <xs:attribute ref="protocol" use="optional"/>
                <xs:attribute ref="authentication" use="optional"/>
                <xs:attribute name="reconnect_timeout_ms" use="optional">
                    <xs:simpleType>
                        <xs:restriction base="xs:nonNegativeInteger"/>
                    </xs:simpleType>
                </xs:attribute>
            </xs:extension>
        </xs:complexContent>
    </xs:complexType>

    <xs:complexType name="rs232_t">
        <xs:sequence>
            <xs:element name="baud_rate" type="baud_rate_t" minOccurs="1" maxOccurs="unbounded"/>
            <xs:group ref="streaming_interface_common_elements_g"/>
        </xs:sequence>
        <xs:attribute ref="data_length" use="required"/>
        <xs:attribute ref="parity_bit" use="required"/>
        <xs:attribute ref="stop_bit" use="required"/>
        <xs:attribute ref="flow_control" use="required"/>
        <xs:attribute name="preferred_baud_rate" use="required">
            <xs:simpleType>
                <xs:restriction base="xs:int">
                    <xs:enumeration value="300"/>
                    <xs:enumeration value="600"/>
                    <xs:enumeration value="1200"/>
                    <xs:enumeration value="1800"/>
                    <xs:enumeration value="2400"/>
                    <xs:enumeration value="3600"/>
                    <xs:enumeration value="4800"/>
                    <xs:enumeration value="7200"/>
                    <xs:enumeration value="9600"/>
                    <xs:enumeration value="14400"/>
                    <xs:enumeration value="19200"/>
                    <xs:enumeration value="28800"/>
                    <xs:enumeration value="38400"/>
                    <xs:enumeration value="57600"/>
                    <xs:enumeration value="115200"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="connector_type" use="required">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="db9 female"/>
                    <xs:enumeration value="db9 male"/>
                    <xs:enumeration value="db25 female"/>
                    <xs:enumeration value="db25 male"/>
                    <xs:enumeration value="rj11"/>
                    <xs:enumeration value="rj45"/>
                    <xs:enumeration value="rs232 other"/>
                    <xs:enumeration value="rs232 unknown"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="cable_type" use="required">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="rs232 straight"/>
                    <xs:enumeration value="rs232 null modem"/>
                    <xs:enumeration value="rs232 unknown"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="is_rs485" use="optional" type="xs:boolean"/>
        <xs:attributeGroup ref="streaming_interface_common_attributes_g"/>
    </xs:complexType>

    <xs:complexType name="ir_t">
        <xs:attribute name="ir_command_format_type" use="required">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="racepointmedia"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="aptovision_carrier_frequency" use="optional">
            <xs:simpleType>
                <xs:restriction base="xs:unsignedLong"/>
            </xs:simpleType>
        </xs:attribute>

        <xs:attribute name="response_time_length_ms" use="optional"/>

    </xs:complexType>

    <!-- <xs:complexType name="usb_t">

    </xs:complexType> -->

    <xs:complexType name="savant_keypad_link_t"> </xs:complexType>

    <xs:complexType name="serial_pwm_t">
        <xs:attribute name="serial_pwm_command_format_type" use="required">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="racepointmedia"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute ref="name_on_component" use="optional"/>
    </xs:complexType>


    <xs:complexType name="baud_rate_t">
        <xs:attribute ref="speed" use="required"/>
        <xs:attribute ref="data_length" use="optional"/>
        <xs:attribute ref="parity_bit" use="optional"/>
        <xs:attribute ref="stop_bit" use="optional"/>
        <xs:attribute ref="flow_control" use="optional"/>
    </xs:complexType>

    <xs:complexType name="rs232_control_commands_t">
        <xs:simpleContent>
            <xs:extension base="xs:string">
                <xs:attribute ref="type" use="optional"/>
            </xs:extension>
        </xs:simpleContent>
    </xs:complexType>

    <xs:attribute name="test_condition">
        <xs:simpleType>
            <xs:restriction base="xs:string">
                <xs:enumeration value="data"/>
                <xs:enumeration value="length"/>
            </xs:restriction>
        </xs:simpleType>
    </xs:attribute>

    <xs:complexType name="receive_end_condition_t">
        <xs:simpleContent>
            <xs:extension base="xs:string">
                <xs:attribute ref="type" use="optional"/>
                <xs:attribute ref="test_condition" use="required"/>
            </xs:extension>
        </xs:simpleContent>
    </xs:complexType>

    <xs:complexType name="response_codes_t">
        <xs:sequence>
            <xs:element name="rspcode" type="rspcode_t" minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="rspmessage" type="response_status_message_t" minOccurs="0"
                maxOccurs="unbounded"/>
        </xs:sequence>
    </xs:complexType>
    <xs:complexType name="savant_cloud_params_t">
        <xs:sequence>
            <xs:element name="partner_name" minOccurs="1" maxOccurs="1">
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:enumeration value="ring"/>
                        <xs:enumeration value="honeywell"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:element>
            <xs:element name="cloud_parameter" type="savant_cloud_param_t" minOccurs="0" maxOccurs="unbounded" />
        </xs:sequence>
    </xs:complexType>
    <xs:complexType name="savant_cloud_param_t">
        <xs:simpleContent>
            <xs:extension base="xs:string">
                <xs:attribute name="name" use="required"/>
            </xs:extension>
        </xs:simpleContent>
    </xs:complexType>

    <xs:attribute name="status">
        <xs:simpleType>
            <xs:restriction base="xs:string">
                <xs:enumeration value="success"/>
                <xs:enumeration value="failure"/>
                <xs:enumeration value="ignore"/>
                <xs:enumeration value="interpret"/>
            </xs:restriction>
        </xs:simpleType>
    </xs:attribute>

    <xs:complexType name="rspcode_t">
        <xs:simpleContent>
            <xs:extension base="xs:string">
                <xs:attribute ref="status"/>


                <xs:attribute ref="type" use="optional"/>
                <xs:attribute name="response_description" use="optional" type="xs:string"/>
                <xs:attribute name="message_name" use="optional" type="xs:string"/>

            </xs:extension>

        </xs:simpleContent>

    </xs:complexType>

    <xs:complexType name="modular_chassis_t">
        <xs:sequence>
            <xs:element name="module" type="module_define_t" minOccurs="1" maxOccurs="unbounded"/>
            <xs:element name="chassis_slots" type="module_slots_t" minOccurs="1" maxOccurs="1"/>
        </xs:sequence>
    </xs:complexType>

    <xs:complexType name="module_define_t">
        <xs:sequence>
            <xs:element name="input" type="media_interface_input_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="output" type="media_interface_output_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="bidirectional" type="media_interface_bidirectional_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="internal_output" type="media_interface_internal_output_t" minOccurs="0" maxOccurs="1"></xs:element>
            <!-- SCR:23636
               <xs:element name="internal" type="media_interface_data_t" minOccurs="0"
                maxOccurs="unbounded"/>
           -->
            <xs:element name="data" type="media_interface_data_t" minOccurs="0"
                maxOccurs="unbounded"/>

        </xs:sequence>
        <xs:attribute name="model_name" type="xs:string" use="required"/>
        <xs:attribute name="part_number" type="xs:string" use="optional"/>
        <xs:attribute ref="alias" use="optional"/>
        <xs:attribute ref="unique_identifier" use="optional"/>
        <xs:attribute name="user_interface_support" use="optional">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="no"/>
                    <xs:enumeration value="yes"/>
                    <xs:enumeration value="required"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="allows_user_interface_bundles" use="optional">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="no"/>
                    <xs:enumeration value="yes"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="default_ui_theme_name" type="xs:string" use="optional"/>
        <xs:attribute name="keypad_server_support" use="optional">
            <xs:simpleType>
                <xs:restriction base="xs:integer"/>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="oneway_remote_server_support" use="optional">
            <xs:simpleType>
                <xs:restriction base="xs:integer"/>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="obsolete" use="optional">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="no"/>
                    <xs:enumeration value="yes"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="internal_id" type="xs:string" use="optional"/>
        <xs:attribute name="uiType" use="optional">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="iPad"/>
                    <xs:enumeration value="iPhone"/>
                    <xs:enumeration value="SSR"/>
                    <xs:enumeration value="OSD"/>
                    <xs:enumeration value="TouchPanel"/>
                    <xs:enumeration value="Remote"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>

    </xs:complexType>

    <xs:complexType name="module_logical_ios_t">
        <xs:sequence>
            <xs:element name="input" type="module_logical_io_t" minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="output" type="module_logical_io_t" minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="bidirectional" type="module_logical_io_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="data" type="module_logical_data_t" minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="internal" type="module_logical_io_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="internal_output" type="module_logical_io_t" minOccurs="0" maxOccurs="unbounded"></xs:element>
        </xs:sequence>
    </xs:complexType>

    <xs:complexType name="module_logical_io_t">
        <xs:sequence>
            <xs:element name="combined_media" type="combined_media_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="audio_media" type="audio_media_t" minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="video_media" type="video_media_t" minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="signal" type="signal_media_t" minOccurs="0" maxOccurs="unbounded"/>
            <xs:group ref="module_default_io_g" minOccurs="0" maxOccurs="unbounded"/>
        </xs:sequence>
        <xs:attribute name="logical_name" type="xs:string" use="required"/>
        <xs:attribute name="allow_multiple_media_assignments" type="xs:boolean" use="optional"/>
    </xs:complexType>

    <xs:complexType name="module_default_io_t">
        <xs:attribute name="model" type="xs:string" use="optional"/>
        <xs:attribute name="slot" type="xs:string" use="optional"/>
        <xs:attribute name="name_on_component" type="xs:string" use="required"/>
    </xs:complexType>

    <xs:group name="module_default_io_g">
        <xs:choice>
            <xs:element name="default_io" type="module_default_io_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="fixed_io" type="module_default_io_t" minOccurs="0" maxOccurs="1"/>
        </xs:choice>
    </xs:group>

    <xs:complexType name="module_logical_data_t">
        <xs:sequence>
            <xs:element name="data_media" type="data_media_t" minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="default_io" type="module_default_io_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="fixed_io" type="module_default_io_t" minOccurs="0"
                maxOccurs="unbounded"/>
        </xs:sequence>
        <xs:attribute name="logical_name" type="xs:string" use="required"/>
    </xs:complexType>

    <xs:complexType name="module_slots_t">
        <xs:sequence>
            <xs:element name="slot" type="module_slot_definition_t" minOccurs="1"
                maxOccurs="unbounded"/>
        </xs:sequence>
    </xs:complexType>

    <xs:complexType name="module_slot_definition_t">
        <xs:sequence>
            <xs:element name="supported_module" type="module_slot_define_type_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="default_module" type="module_slot_define_type_t" minOccurs="0"
                maxOccurs="1"/>
        </xs:sequence>
        <xs:attribute name="id" type="xs:string" use="required"/>
        <xs:attribute name="description" type="xs:string" use="optional"/>
        <xs:attribute ref="alias" use="optional"/>
    </xs:complexType>

    <xs:complexType name="module_slot_define_type_t">
        <xs:attribute name="model_name" type="xs:string" use="required"/>
    </xs:complexType>

    <xs:complexType name="media_module_t">
        <xs:sequence>
            <xs:element name="input" type="media_interface_input_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="output" type="media_interface_output_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="bidirectional" type="media_interface_bidirectional_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="data" type="media_interface_data_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="internal" type="media_interface_internal_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="internal_output" type="media_interface_internal_output_t" minOccurs="0" maxOccurs="unbounded"></xs:element>
            <xs:element name="position" minOccurs="1" maxOccurs="unbounded">
                <xs:complexType>
                    <xs:attribute name="slot" type="xs:positiveInteger" use="required"/>
                </xs:complexType>
            </xs:element>
        </xs:sequence>
        <xs:attribute name="model" type="xs:string"/>
    </xs:complexType>

    <xs:complexType name="media_interfaces_t">
        <xs:sequence>
            <xs:element name="input" type="media_interface_input_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="output" type="media_interface_output_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="bidirectional" type="media_interface_bidirectional_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="data" type="media_interface_data_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="internal" type="media_interface_internal_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="internal_output" type="media_interface_internal_output_t" minOccurs="0" maxOccurs="unbounded"></xs:element>
        </xs:sequence>
    </xs:complexType>

    <xs:complexType name="media_interface_input_t">
        <xs:sequence>
            <xs:element name="combined_media" type="combined_media_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="audio_media" type="audio_media_t" minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="video_media" type="video_media_t" minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="signal" type="signal_media_t" minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="resource" type="resource_type_t" minOccurs="0" maxOccurs="unbounded"/>
        </xs:sequence>
        <xs:attribute name="name_on_component" use="required"/>
        <xs:attribute name="user_interface_rank" use="optional" type="xs:positiveInteger"/>
        <xs:attribute name="allows_user_interface" type="xs:string"/>
    </xs:complexType>

    <xs:complexType name="media_interface_output_t">
        <xs:sequence>
            <xs:element name="combined_media" type="combined_media_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="audio_media" type="audio_media_t" minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="video_media" type="video_media_t" minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="signal" type="signal_media_t" minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="resource" type="resource_type_t" minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="properties" type="media_interface_properties_t" minOccurs="0" maxOccurs="1"></xs:element>
        </xs:sequence>
        <xs:attribute name="name_on_component" use="required"/>
        <xs:attribute name="user_interface_rank" use="optional" type="xs:positiveInteger"/>
    </xs:complexType>

    <xs:complexType name="media_interface_bidirectional_t">
        <xs:sequence>
            <xs:element name="combined_media" type="combined_media_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="audio_media" type="audio_media_t" minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="video_media" type="video_media_t" minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="signal" type="signal_media_t" minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="resource" type="resource_type_t" minOccurs="0" maxOccurs="unbounded"/>
        </xs:sequence>
        <xs:attribute name="name_on_component" use="required"/>
        <xs:attribute name="user_interface_rank" use="optional" type="xs:positiveInteger"/>
    </xs:complexType>

    <xs:complexType name="media_interface_data_t">
        <xs:sequence>
            <xs:element name="combined_media" type="combined_media_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="data_media" type="data_media_t" minOccurs="0"/>
            <xs:element name="control" type="control_media_t" minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="resource" type="resource_type_t" minOccurs="0" maxOccurs="unbounded"/>
        </xs:sequence>
        <xs:attribute name="name_on_component" use="required"/>
        <xs:attribute name="user_interface_rank" use="optional" type="xs:positiveInteger"/>
    </xs:complexType>

    <xs:complexType name="media_interface_internal_t">
        <xs:sequence>
            <xs:element name="audio_media" minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="video_media" minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="environmental_media" minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="resource" type="resource_type_t" minOccurs="0" maxOccurs="unbounded"/>
        </xs:sequence>
        <xs:attribute name="name_on_component" use="required"/>
        <xs:attribute name="user_interface_rank" use="optional" type="xs:positiveInteger"/>
    </xs:complexType>

    <xs:complexType name="media_interface_internal_output_t">
        <xs:sequence>
            <xs:element name="combined_media" type="combined_media_t" minOccurs="0" maxOccurs="unbounded"></xs:element>
            <xs:element name="audio_media" minOccurs="0" maxOccurs="unbounded"></xs:element>
            <xs:element name="video_media" minOccurs="0" maxOccurs="unbounded"></xs:element>
            <xs:element name="resource" type="resource_type_t" minOccurs="0" maxOccurs="unbounded"></xs:element>
            <xs:element name="properties" type="media_interface_properties_t" minOccurs="0" maxOccurs="1"></xs:element>
        </xs:sequence>
        <xs:attribute name="name_on_component" use="required"></xs:attribute>
        <xs:attribute name="user_interface_rank" use="optional" type="xs:positiveInteger"></xs:attribute>
    </xs:complexType>

    <xs:complexType name="combined_media_t">
        <xs:sequence>
            <xs:element name="audio_media" type="audio_media_t" minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="video_media" type="video_media_t" minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="data_media" type="data_media_t" minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="control" type="control_media_t" minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="signal" type="signal_media_t" minOccurs="0" maxOccurs="unbounded"/>
        </xs:sequence>
    </xs:complexType>

    <xs:complexType name="audio_media_t">
        <xs:attribute name="type" type="audio_media_type" use="optional"/>
        <xs:attribute name="restricted_path" type="xs:string" use="optional"/>
        <xs:attribute name="disallowed_resources" type="xs:string" use="optional"/>
    </xs:complexType>

    <xs:complexType name="video_media_t">
        <xs:attribute name="type" type="video_media_type" use="optional"/>
        <xs:attribute name="restricted_path" type="xs:string" use="optional"/>
        <xs:attribute name="disallowed_resources" type="xs:string" use="optional"/>
    </xs:complexType>

    <xs:complexType name="control_media_t">
        <xs:attribute name="port" use="optional"/>
    </xs:complexType>

    <xs:complexType name="signal_media_t">
        <xs:attribute name="type" type="signal_media_type" use="required"/>
        <xs:attribute name="disallowed_resources" type="xs:string" use="optional"/>
    </xs:complexType>

    <xs:complexType name="data_media_t">
        <xs:attribute name="type" type="data_media_type" use="required"/>
        <xs:attribute name="restricted_path" type="xs:string" use="optional"/>
        <xs:attribute name="disallowed_resources" type="xs:string" use="optional"/>
    </xs:complexType>

    <xs:complexType name="resource_type_t">
        <xs:attribute ref="resource_type" use="required"/>
        <xs:attribute name="services_enabled" type="xs:boolean" use="optional"/>
    </xs:complexType>

    <xs:complexType name="logical_component_t">
        <xs:sequence>
            <xs:element name="implementation" type="resource_implementation_t" maxOccurs="unbounded"/>
            <xs:element name="image_access" type="image_access_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="entry_info" type="entry_info_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="state_smoothing" type="state_smoothing_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="status_messages" type="status_messages_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="universal_component_actions" minOccurs="0" maxOccurs="1">
                <xs:complexType>
                    <xs:sequence>
                        <xs:element name="action" type="action_t" maxOccurs="unbounded"/>
                    </xs:sequence>
                </xs:complexType>
            </xs:element>
            <xs:element name="resource_component_actions" minOccurs="0" maxOccurs="unbounded">
                <xs:complexType>
                    <xs:sequence>
                        <xs:element name="action" type="action_t" minOccurs="0"
                            maxOccurs="unbounded"/>
                        <xs:element name="entity" type="entity_t" minOccurs="0"
                            maxOccurs="unbounded"/>
                    </xs:sequence>
                    <xs:attribute ref="resource_type" use="required"/>
                    <xs:attribute name="control_restriction" type="xs:string" use="optional"/>
                    <!-- comma seperated -->
                </xs:complexType>
            </xs:element>
            <xs:element name="custom_component_actions" minOccurs="0" maxOccurs="1">
                <xs:complexType>
                    <xs:sequence>
                        <xs:element name="action" type="action_t" maxOccurs="unbounded"/>
                    </xs:sequence>
                </xs:complexType>
            </xs:element>
            <xs:element name="application" type="application_t" minOccurs="0" maxOccurs="unbounded"
            />
        </xs:sequence>
        <xs:attribute name="logical_component_name" type="xs:string" use="required"/>
    </xs:complexType>
    <xs:complexType name="state_smoothing_t">
        <xs:sequence>
            <xs:element name="state" type="smooth_state_t" minOccurs="1" maxOccurs="unbounded" />
        </xs:sequence>
    </xs:complexType>
    <xs:complexType name="smooth_state_t">
        <xs:sequence>
            <xs:element name="linked_state" type="linked_state_t" minOccurs="0"  maxOccurs="unbounded"/>
        </xs:sequence>
        <xs:attribute name="name" type="xs:string" use="required"/>
        <xs:attribute name="delay" type="xs:string" use="optional"/>
        <xs:attribute name="min_scale_state" type="xs:string" use="optional"/>
        <xs:attribute name="max_scale_state" type="xs:string" use="optional"/>
        <xs:attribute name="active_value" type="xs:string" use="optional"/>
        <xs:attribute name="active_value_type" use="optional">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="string"/>
                    <xs:enumeration value="boolean"/>
                    <xs:enumeration value="integer"/>
                    <xs:enumeration value="float"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
    </xs:complexType>
    <xs:complexType name="linked_state_t">
        <xs:attribute name="name" type="xs:string" use="required"/>
    </xs:complexType>

    <xs:complexType name="application_t">
        <xs:sequence>
            <xs:element name="universal_component_actions" minOccurs="0" maxOccurs="1">
                <xs:complexType>
                    <xs:sequence>
                        <xs:element name="action" type="action_t" maxOccurs="unbounded"/>
                    </xs:sequence>
                </xs:complexType>
            </xs:element>
            <xs:element name="resource_component_actions" minOccurs="0" maxOccurs="unbounded">
                <xs:complexType>
                    <xs:sequence>
                        <xs:element name="action" type="action_t" minOccurs="0"
                            maxOccurs="unbounded"/>
                    </xs:sequence>
                    <xs:attribute ref="resource_type" use="required"/>
                </xs:complexType>
            </xs:element>
            <xs:element name="custom_component_actions" minOccurs="0" maxOccurs="1">
                <xs:complexType>
                    <xs:sequence>
                        <xs:element name="action" type="action_t" maxOccurs="unbounded"/>
                    </xs:sequence>
                </xs:complexType>
            </xs:element>
        </xs:sequence>
        <xs:attribute name="application_name" type="xs:string" use="required"/>
    </xs:complexType>

    <xs:complexType name="resource_implementation_t">
        <xs:sequence>
            <xs:element name="input" type="resource_implementation_io_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="output" type="resource_implementation_io_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="bidirectional" type="resource_implementation_io_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="internal" type="resource_implementation_io_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="data" type="resource_implementation_io_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="internal_output" type="resource_implementation_io_t" minOccurs="0" maxOccurs="unbounded"></xs:element>
        </xs:sequence>
        <xs:attribute name="services_enabled" type="xs:boolean" use="optional"/>
        <xs:attribute name="restrict_media" type="restrict_media_type" use="optional"/>
    </xs:complexType>

    <xs:complexType name="resource_implementation_io_t">
        <xs:sequence>
            <xs:element name="action_to_select" type="select_action_media_t" minOccurs="0"
                maxOccurs="1"/>
        </xs:sequence>
        <xs:attribute name="name_on_component" type="xs:string" use="optional"/>
        <xs:attribute name="logical_name" type="xs:string" use="optional"/>
    </xs:complexType>

    <xs:complexType name="select_action_media_arg_t">
        <xs:simpleContent>
            <xs:extension base="xs:string">
                <xs:attribute name="name" type="xs:string" use="required"/>
            </xs:extension>
        </xs:simpleContent>
    </xs:complexType>

    <xs:complexType name="select_action_media_t">
        <xs:sequence>
            <xs:element name="arg" type="select_action_media_arg_t" minOccurs="0"
                maxOccurs="unbounded"/>
        </xs:sequence>
        <xs:attribute name="name" use="required" type="xs:string"/>
        <xs:attribute ref="resource_type" use="optional"/>
    </xs:complexType>

    <xs:complexType name="volume_state_variable_t">
        <xs:simpleContent>
            <xs:extension base="xs:string">
                <xs:attribute name="name" type="xs:string" use="required"/>
                <xs:attribute name="min_value" type="xs:float" use="required"/>
                <xs:attribute name="max_value" type="xs:float" use="required"/>
                <xs:attribute name="granularity" type="xs:float" use="optional"/>
                <xs:attribute name="owning_logical_component" type="xs:string" use="optional"/>
                <xs:attribute name="state_center_binding" type="xs:string" use="optional"/>
                <xs:attribute name="state_center_type" use="required">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="string"/>
                            <xs:enumeration value="boolean"/>
                            <xs:enumeration value="integer"/>
                            <xs:enumeration value="float"/>
                            <xs:enumeration value="percent_escaped_string"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
                <xs:attribute name="receive_updates_from_state_center" use="optional">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="yes"/>
                            <xs:enumeration value="no"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
                <xs:attribute name="format_positive_values_with" type="xs:string" use="optional"/>
                <xs:attribute name="format_zero_values_with" type="xs:string" use="optional"/>
                <xs:attribute name="format_negative_values_with" type="xs:string" use="optional"/>
                <xs:attribute name="note" type="xs:string" use="optional"/>
                <xs:attribute name="user_editable" use="optional" default="yes">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="yes"/>
                            <xs:enumeration value="no"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
            </xs:extension>
        </xs:simpleContent>
    </xs:complexType>

    <xs:complexType name="state_variable_t">
        <xs:simpleContent>
            <xs:extension base="xs:string">
                <xs:attribute name="name" type="xs:string" use="required"/>
                <xs:attribute name="min_value" type="xs:integer" use="optional"/>
                <xs:attribute name="max_value" type="xs:integer" use="optional"/>
                <xs:attribute name="owning_logical_component" type="xs:string" use="optional"/>
                <xs:attribute name="state_center_binding" type="xs:string" use="optional"/>
                <xs:attribute name="state_center_type" use="required">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="string"/>
                            <xs:enumeration value="boolean"/>
                            <xs:enumeration value="integer"/>
                            <xs:enumeration value="float"/>
                            <xs:enumeration value="percent_escaped_string"/>
                            <xs:enumeration value="protected_string"/>
                            <xs:enumeration value="semi_protected_string"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
                <xs:attribute name="receive_updates_from_state_center" use="optional">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="yes"/>
                            <xs:enumeration value="no"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
                <xs:attribute name="wrap_around_type" use="optional">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="reset"/>
                            <xs:enumeration value="difference"/>
                            <xs:enumeration value="none"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
                <xs:attribute name="format_positive_values_with" type="xs:string" use="optional"/>
                <xs:attribute name="format_zero_values_with" type="xs:string" use="optional"/>
                <xs:attribute name="format_negative_values_with" type="xs:string" use="optional"/> <xs:attribute name="note" type="xs:string" use="optional"/>
                <xs:attribute name="user_editable" use="optional" default="no">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="yes"/>
                            <xs:enumeration value="no"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>

            </xs:extension>
        </xs:simpleContent>
    </xs:complexType>

    <xs:complexType name="date_state_variable_t">
        <xs:simpleContent>
            <xs:extension base="xs:string">
                <xs:attribute name="name" type="xs:string" use="required"/>
                <xs:attribute name="lower_limit_in_seconds_before_now" type="xs:integer"
                    use="optional"/>
                <xs:attribute name="upper_limit_in_seconds_after_now" type="xs:integer"
                    use="optional"/>
                <xs:attribute name="owning_logical_component" type="xs:string" use="optional"/>
                <xs:attribute name="state_center_binding" type="xs:string" use="optional"/>
                <xs:attribute name="format" type="xs:string" use="optional"/>
                <xs:attribute name="state_center_type" use="required">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="string"/>
                            <xs:enumeration value="boolean"/>
                            <xs:enumeration value="integer"/>
                            <xs:enumeration value="float"/>
                            <xs:enumeration value="percent_escaped_string"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
                <xs:attribute name="receive_updates_from_state_center" use="optional">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="yes"/>
                            <xs:enumeration value="no"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
            </xs:extension>
        </xs:simpleContent>
    </xs:complexType>

    <xs:group name="state_variable_g">
        <xs:choice>
            <xs:element name="state_variable" type="state_variable_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="volume_state_variable" type="volume_state_variable_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="date_state_variable" type="date_state_variable_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="dynamic_state_variable" type="state_variable_t" minOccurs="0" maxOccurs="1"/>
        </xs:choice>
    </xs:group>

    <xs:complexType name="state_variable_list_t">
        <xs:sequence>
            <xs:group ref="state_variable_g" minOccurs="0" maxOccurs="unbounded"/>
        </xs:sequence>
    </xs:complexType>

    <xs:complexType name="parameter_t">
        <xs:simpleContent>
            <xs:extension base="xs:string">
                <xs:attribute name="name" type="xs:string" use="optional"/>
                <xs:attribute name="action_argument" type="xs:string" use="optional"/>
                <xs:attribute name="state_variable" type="xs:string" use="optional"/>
                <xs:attribute name="function" use="optional">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="unixTimestampSeconds"/>
                            <xs:enumeration value="unixTimestampMilliseconds"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
                <xs:attribute name="parameter_data_type" use="required">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="hex"/>
                            <xs:enumeration value="character"/>
                            <xs:enumeration value="character_hex"/>
                            <xs:enumeration value="bcd_hex"/>
                            <xs:enumeration value="unpacked_bcd_hex"/>
                            <xs:enumeration value="float"/>
                            <xs:enumeration value="knx_temp_float"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
                <xs:attribute name="parameter_data_width" type="xs:positiveInteger" use="optional"/>
                <xs:attribute name="parameter_total_width" type="xs:positiveInteger" use="optional"/>
                <xs:attribute name="parameter_justify" use="optional">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="left"/>
                            <xs:enumeration value="right"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
                <xs:attribute name="parameter_fill" type="xs:string" use="optional"/>
                <xs:attribute name="isHttpBody" type="xs:boolean" use="optional"/>
                <xs:attribute name="isBase64" type="xs:boolean" use="optional"/>
                <xs:attribute name="wildcard_source" default="none" use="optional">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="state_variable"/>
                            <xs:enumeration value="action_argument"/>
                            <xs:enumeration value="none"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
                <xs:attribute name="wildcard_source_name" type="xs:string" use="optional"/>
                <xs:attribute name="wildcard_format" type="xs:string" use="optional"/>
                <xs:attribute name="treat_data_as_hex_string" use="optional">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="yes"/>
                            <xs:enumeration value="no"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
            </xs:extension>
        </xs:simpleContent>
    </xs:complexType>

    <xs:complexType name="volume_parameter_t">
        <xs:simpleContent>
            <xs:extension base="xs:string">
                <xs:attribute name="volume_state_variable" type="xs:string" use="required"/>
                <xs:attribute name="name" type="xs:string" use="optional"/>
                <xs:attribute name="action_argument" type="xs:string" use="optional"/>
                <xs:attribute name="state_variable" type="xs:string" use="optional"/>
                <xs:attribute name="parameter_data_type" use="required">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="hex"/>
                            <xs:enumeration value="character"/>
                            <xs:enumeration value="character_hex"/>
                            <xs:enumeration value="character_hex_big_endian"/>
                            <xs:enumeration value="bcd_hex"/>
                            <xs:enumeration value="unpacked_bcd_hex"/>
                            <xs:enumeration value="float"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
                <xs:attribute name="parameter_data_width" type="xs:positiveInteger" use="optional"/>
                <xs:attribute name="parameter_total_width" type="xs:positiveInteger" use="optional"/>
                <xs:attribute name="parameter_justify" use="optional">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="left"/>
                            <xs:enumeration value="right"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
                <xs:attribute name="parameter_fill" type="xs:string" use="optional"/>
                <xs:attribute name="isHttpBody" type="xs:boolean" use="optional"/>
                <xs:attribute name="wildcard_source" default="none" use="optional">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="state_variable"/>
                            <xs:enumeration value="action_argument"/>
                            <xs:enumeration value="none"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
                <xs:attribute name="wildcard_source_name" type="xs:string" use="optional"/>
                <xs:attribute name="wildcard_format" type="xs:string" use="optional"/>
            </xs:extension>
        </xs:simpleContent>
    </xs:complexType>

    <xs:complexType name="checksum_parameter_t">
        <xs:simpleContent>
            <xs:extension base="xs:string">
                <xs:attribute ref="checksum_type" use="optional"/>
                <xs:attribute ref="checksum_offset_A" use="optional" default="0"/>
                <xs:attribute ref="checksum_offset_B" use="optional" default="0"/>
                <xs:attribute ref="calculate_checksum_based_on_data" use="optional"/>
                <xs:attribute name="source_data_type" use="optional">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="hex"/>
                            <xs:enumeration value="character"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
                <xs:attribute name="name" type="xs:string" use="optional"/>
                <xs:attribute name="parameter_data_type" use="required">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="hex"/>
                            <xs:enumeration value="character"/>
                            <xs:enumeration value="character_hex"/>
                            <xs:enumeration value="bcd_hex"/>
                            <xs:enumeration value="unpacked_bcd_hex"/>
                            <xs:enumeration value="float"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
                <xs:attribute name="parameter_data_width" type="xs:positiveInteger" use="optional"/>
                <xs:attribute name="parameter_total_width" type="xs:positiveInteger" use="optional"/>
                <xs:attribute name="parameter_justify" use="optional">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="left"/>
                            <xs:enumeration value="right"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
                <xs:attribute name="parameter_fill" type="xs:string" use="optional"/>
                <xs:attribute name="isHttpBody" type="xs:boolean" use="optional"/>
            </xs:extension>
        </xs:simpleContent>
    </xs:complexType>

    <xs:group name="parameter_g">
        <xs:choice>
            <xs:element name="parameter" type="parameter_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="volume_parameter" type="volume_parameter_t" minOccurs="0"
                maxOccurs="1"/>
            <xs:element name="checksum_parameter" type="checksum_parameter_t" minOccurs="0"
                maxOccurs="1"/>
        </xs:choice>
    </xs:group>

    <xs:complexType name="parameter_list_t">
        <xs:sequence>
            <xs:group ref="parameter_g" minOccurs="0" maxOccurs="unbounded"/>
        </xs:sequence>
    </xs:complexType>

    <xs:complexType name="repeat_t">
        <xs:sequence>
            <xs:element name="command_string" type="command_string_t" maxOccurs="2"/>
        </xs:sequence>
        <xs:attribute name="keep_alive_timer" type="xs:int" use="optional"/>
    </xs:complexType>

    <xs:complexType name="command_string_t">
        <xs:simpleContent>
            <xs:extension base="xs:string">
                <xs:attribute ref="type" use="optional"/>
                <xs:attribute ref="macro_name" use="optional"/>
                <xs:attribute name="data_length" use="optional"/>
                <xs:attribute name="http_request_type" use="optional"/>
            </xs:extension>
        </xs:simpleContent>
    </xs:complexType>


    <xs:complexType name="command_string_toggle_t">
        <xs:simpleContent>
            <xs:extension base="xs:string">
                <xs:attribute ref="type" use="required"/>

                <xs:attribute name="toggle_type" default="Global">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="Global"/>
                            <xs:enumeration value="Command"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
                <xs:attribute name="command_name" type="xs:string" use="optional"/><!-- only needed if toggle_type is Command -->
                <!--
                <xs:attribute name="always_send">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="yes"/>
                            <xs:enumeration value="no"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
                -->
            </xs:extension>
        </xs:simpleContent>
    </xs:complexType>


    <xs:complexType name="http_header_t">
        <xs:simpleContent>
            <xs:extension base="xs:string">
                <xs:attribute name="name" type="xs:string" use="required"/>
            </xs:extension>
        </xs:simpleContent>
    </xs:complexType>

    <xs:complexType name="command_t">
        <xs:sequence>
            <xs:element name="http_header" type="http_header_t" minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="command_string" type="command_string_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="command_string_toggle" type="command_string_toggle_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="parameter_list" type="parameter_list_t" minOccurs="0"/>
            <xs:element name="command_repeat" type="repeat_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="response_codes" type="response_codes_t" minOccurs="0"/>
            <xs:element name="delay" minOccurs="0">
                <xs:complexType>
                    <xs:attribute name="ms_delay" type="xs:int"/>
                </xs:complexType>
            </xs:element>
            <xs:element name="retry" minOccurs="0" maxOccurs="1">
                <xs:complexType>
                    <xs:attribute name="retries" type="xs:positiveInteger" use="required"/>
                    <xs:attribute name="ms_delay" type="xs:positiveInteger" use="required"/>
                </xs:complexType>
            </xs:element>

        </xs:sequence>
        <xs:attribute name="response_required">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="yes"/>
                    <xs:enumeration value="no"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>

        <xs:attribute name="partial_response" use="optional">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="yes"/>
                    <xs:enumeration value="no"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>

        <xs:attribute name="encrypt" use="optional">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="napco"/>
                    <xs:enumeration value="aes128"/>
                    <xs:enumeration value="none"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>

        <xs:attribute name="response_length" type="xs:int" use="optional"/>
        <xs:attribute ref="response_time_length_ms" use="optional"/>

        <xs:attribute name="append_checksum" use="optional">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="yes"/>
                    <xs:enumeration value="no"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute ref="checksum_type" use="optional"/>
        <xs:attribute ref="checksum_offset_A" use="optional"/>
        <xs:attribute ref="checksum_offset_B" use="optional"/>


    </xs:complexType>

    <xs:complexType name="command_interface_t">
        <xs:sequence>
            <xs:element name="command" type="command_t" maxOccurs="unbounded"/>
        </xs:sequence>
        <xs:attribute name="interface" use="required">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="ir"/>
                    <xs:enumeration value="serial_pwm"/>
                    <xs:enumeration value="rs232"/>
                    <xs:enumeration value="ip"/>
                    <xs:enumeration value="trigger"/>
                    <xs:enumeration value="contact_sensor"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
    </xs:complexType>

    <xs:complexType name="action_argument_t">
        <xs:attribute name="name" type="xs:string" use="required"/>
        <xs:attribute name="note" type="xs:string" use="optional"/>
    </xs:complexType>

    <xs:complexType name="execute_on_state_variable_condition">
        <xs:simpleContent>
            <xs:extension base="xs:string">
                <xs:attribute name="name" type="xs:string" use="required"/>
                <xs:attribute name="test_condition" use="required">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="equal"/>
                            <xs:enumeration value="greater_than"/>
                            <xs:enumeration value="less_than"/>
                            <xs:enumeration value="not_equal"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
                <xs:attribute name="wildcard_source" default="none" use="optional">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="state_variable"/>
                            <xs:enumeration value="action_argument"/>
                            <xs:enumeration value="none"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
                <xs:attribute name="wildcard_source_name" type="xs:string" use="optional"/>
                <xs:attribute name="wildcard_format" type="xs:string" use="optional"/>
            </xs:extension>
        </xs:simpleContent>
    </xs:complexType>

    <xs:complexType name="update_state_variable_t">
        <xs:simpleContent>
            <xs:extension base="xs:string">
                <xs:attribute name="name" type="xs:string" use="required"/>
                <xs:attribute name="update_type" use="required">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="set"/>
                            <xs:enumeration value="increment"/>
                            <xs:enumeration value="decrement"/>
                            <xs:enumeration value="multiply"/>
                            <xs:enumeration value="divide"/>
                            <xs:enumeration value="append"/>
                            <xs:enumeration value="strip_trailing_characters"/>
                            <xs:enumeration value="raise_to_the_power_of"/>
                            <xs:enumeration value="round"/>
                            <xs:enumeration value="ceiling"/>
                            <xs:enumeration value="floor"/>
                            <xs:enumeration value="modulus"/>
                            <xs:enumeration value="reverse_byte_order"/>
                            <xs:enumeration value="xor"/>
                            <xs:enumeration value="or"/>
                            <xs:enumeration value="not"/>
                            <xs:enumeration value="and"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
                <xs:attribute name="update_source" use="required">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="state_variable"/>
                            <xs:enumeration value="action_argument"/>
                            <xs:enumeration value="constant"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
                <xs:attribute name="wildcard_source" default="none" use="optional">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="state_variable"/>
                            <xs:enumeration value="action_argument"/>
                            <xs:enumeration value="none"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
                <xs:attribute name="wildcard_source_name" type="xs:string" use="optional"/>
                <xs:attribute name="wildcard_format" type="xs:string" use="optional"/>
                <xs:attribute name="treat_data_as_hex_string" use="optional">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="yes"/>
                            <xs:enumeration value="no"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
            </xs:extension>
        </xs:simpleContent>
    </xs:complexType>

    <xs:complexType name="action_t">
        <xs:sequence>
            <xs:element name="action_argument" type="action_argument_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="execute_on_state_variable_condition"
                type="execute_on_state_variable_condition" minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="update_state_variable" type="update_state_variable_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="update_volume_variables" type="update_state_variable_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="update_date_state_variable" type="update_state_variable_t"
                minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="not_supported_command" minOccurs="0">
                <xs:complexType>
                    <xs:attribute name="reason" type="xs:string"/>
                </xs:complexType>
            </xs:element>
            <xs:element name="command_interface" type="command_interface_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="execute_on_schedule" minOccurs="0" maxOccurs="unbounded">
                <xs:complexType>
                    <xs:sequence>
                        <xs:element name="with_arg" minOccurs="0" maxOccurs="unbounded">
                            <xs:complexType>
                                <xs:attribute name="name" type="xs:string" use="required"/>
                                <xs:attribute name="value" type="xs:string" use="required"/>
                            </xs:complexType>
                        </xs:element>
                    </xs:sequence>
                    <xs:attribute name="period_ms" type="xs:integer" use="required"/>
                    <xs:attribute name="send_on_reconnect" type="xs:boolean" use="optional"/>
                </xs:complexType>
            </xs:element>
            <xs:element name="execute_action_after_delay" minOccurs="0" maxOccurs="unbounded">
                <xs:complexType>
                    <xs:sequence>
                        <xs:element name="with_arg" minOccurs="0" maxOccurs="unbounded">
                            <xs:complexType>
                                <xs:attribute name="name" type="xs:string" use="required"/>
                                <xs:attribute name="value" type="xs:string" use="required"/>
                            </xs:complexType>
                        </xs:element>
                    </xs:sequence>
                    <xs:attribute name="ms_delay" type="xs:integer" use="required"/>
                    <xs:attribute name="send_on_reconnect" type="xs:boolean" use="optional"/>
                    <xs:attribute name="action_name" type="xs:string" use="required"/>
                    <xs:attribute name="action_type" use="required">
                        <xs:simpleType>
                            <xs:restriction base="xs:string">
                                <xs:enumeration value="CUSTOM"/>
                                <xs:enumeration value="RESOURCE"/>
                            </xs:restriction>
                        </xs:simpleType>
                    </xs:attribute>
                    <xs:attribute ref="resource_type" use="optional"/>
                    <xs:attribute name="use_polling_queue" type="xs:boolean" use="optional"/>
                    <xs:attribute name="clear_duplicated" type="xs:boolean" use="optional"/>
                </xs:complexType>
            </xs:element>
        </xs:sequence>
        <xs:attribute name="name" type="xs:string" use="required"/>
    </xs:complexType>

    <xs:complexType name="resource_implement_interface_t">
        <xs:sequence> </xs:sequence>
        <xs:attribute name="name_on_component" type="xs:string" use="required"/>
    </xs:complexType>

    <xs:complexType name="resource_implement_interface_nosubresource_t">
        <xs:attribute name="name_on_component" type="xs:string" use="required"/>
    </xs:complexType>

    <xs:complexType name="media_metadata_available_t">
        <xs:attribute name="type" use="required">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="mfi"/>
                    <xs:enumeration value="daap"/>
                    <xs:enumeration value="kscape"/>
                    <xs:enumeration value="squeeze"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
    </xs:complexType>

    <xs:complexType name="resource_ui_mapping_t">
        <xs:attribute ref="resource_type" use="required"/>
        <xs:attribute name="ui_map" use="required" type="xs:string"/>
    </xs:complexType>

    <xs:complexType name="device_control_interfaces_t">
        <xs:sequence>
            <xs:element name="rs232" type="device_control_rs232_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="rs422" type="device_control_rs422_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="ir" type="device_control_ir_t" minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="serial_pwm" type="device_control_serial_pwm_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="trigger" type="device_control_trigger_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="relay" type="device_control_relay_t" minOccurs="0"
                maxOccurs="unbounded"/>
        </xs:sequence>
    </xs:complexType>

    <xs:complexType name="slot_and_lio_mappings_t">
        <xs:sequence>
            <xs:element name="component_map" minOccurs="1" maxOccurs="unbounded">
                <xs:complexType>
                    <xs:all minOccurs="0">
                        <xs:element name="version_map">
                            <xs:complexType>
                                <xs:sequence>
                                    <xs:element maxOccurs="unbounded" minOccurs="0" name="slot_map">
                                        <xs:complexType>
                                            <xs:attribute name="from" type="xs:string"
                                                use="required"/>
                                            <xs:attribute name="to" type="xs:string" use="required"
                                            />
                                        </xs:complexType>
                                    </xs:element>
                                    <xs:element maxOccurs="unbounded" minOccurs="0"
                                        name="module_map">
                                        <xs:complexType>
                                            <xs:sequence>
                                                <xs:element name="newModule_map"
                                                  maxOccurs="unbounded">
                                                  <xs:complexType>
                                                  <xs:sequence minOccurs="0">
                                                  <xs:element maxOccurs="unbounded" minOccurs="0"
                                                  name="input_map">
                                                  <xs:complexType>
                                                  <xs:sequence minOccurs="0">
                                                  <xs:element maxOccurs="unbounded" minOccurs="0"
                                                  name="inputconnector_map">
                                                  <xs:complexType>
                                                  <xs:sequence minOccurs="0">
                                                  <xs:element maxOccurs="unbounded" minOccurs="0"
                                                  name="videoformat_map">
                                                  <xs:complexType>
                                                  <xs:attribute name="from" type="video_media_type"
                                                  use="required"/>
                                                  <xs:attribute name="to" type="video_media_type"
                                                  use="required"/>
                                                  </xs:complexType>
                                                  </xs:element>
                                                  <xs:element maxOccurs="unbounded" minOccurs="0"
                                                  name="audioformat_map">
                                                  <xs:complexType>
                                                  <xs:attribute name="from" type="audio_media_type"
                                                  use="required"/>
                                                  <xs:attribute name="to" type="audio_media_type"
                                                  use="required"/>
                                                  </xs:complexType>
                                                  </xs:element>
                                                  </xs:sequence>
                                                  </xs:complexType>
                                                  </xs:element>
                                                  </xs:sequence>
                                                  <xs:attribute name="from" type="xs:string"
                                                  use="required"/>
                                                  <xs:attribute name="to" type="xs:string"
                                                  use="required"/>
                                                  </xs:complexType>
                                                  </xs:element>
                                                  <xs:element maxOccurs="unbounded" minOccurs="0"
                                                  name="output_map">
                                                  <xs:complexType>
                                                  <xs:sequence minOccurs="0">
                                                  <xs:element maxOccurs="unbounded" minOccurs="0"
                                                  name="outputconnector_map">
                                                  <xs:complexType>
                                                  <xs:sequence minOccurs="0">
                                                  <xs:element maxOccurs="unbounded" minOccurs="0"
                                                  name="videoformat_map">
                                                  <xs:complexType>
                                                  <xs:attribute name="from" type="video_media_type"
                                                  use="required"/>
                                                  <xs:attribute name="to" type="video_media_type"
                                                  use="required"/>
                                                  </xs:complexType>
                                                  </xs:element>
                                                  <xs:element maxOccurs="unbounded" minOccurs="0"
                                                  name="audioformat_map">
                                                  <xs:complexType>
                                                  <xs:attribute name="from" type="audio_media_type"
                                                  use="required"/>
                                                  <xs:attribute name="to" type="audio_media_type"
                                                  use="required"/>
                                                  </xs:complexType>
                                                  </xs:element>
                                                  </xs:sequence>
                                                  </xs:complexType>
                                                  </xs:element>
                                                  </xs:sequence>
                                                  <xs:attribute name="from" type="xs:string"
                                                  use="required"/>
                                                  <xs:attribute name="to" type="xs:string"
                                                  use="required"/>
                                                  </xs:complexType>
                                                  </xs:element>
                                                  <xs:element maxOccurs="unbounded" minOccurs="0"
                                                  name="dataio_map">
                                                  <xs:complexType>
                                                  <xs:attribute name="from" type="xs:string"
                                                  use="required"/>
                                                  <xs:attribute name="to" type="xs:string"
                                                  use="required"/>
                                                  </xs:complexType>
                                                  </xs:element>
                                                  </xs:sequence>
                                                  <xs:attribute name="to" type="xs:string"
                                                  use="required"/>
                                                  </xs:complexType>
                                                </xs:element>
                                            </xs:sequence>
                                            <xs:attribute name="from" type="xs:string"
                                                use="required"/>
                                        </xs:complexType>
                                    </xs:element>
                                    <xs:element maxOccurs="unbounded" minOccurs="0"
                                        name="logical_io_map">
                                        <xs:complexType>
                                            <xs:sequence>
                                                <xs:element maxOccurs="unbounded" minOccurs="0"
                                                  name="videoformat_map">
                                                  <xs:complexType>
                                                  <xs:attribute name="from" type="video_media_type"
                                                  use="required"/>
                                                  <xs:attribute name="to" type="video_media_type"
                                                  use="required"/>
                                                  </xs:complexType>
                                                </xs:element>
                                                <xs:element maxOccurs="unbounded" minOccurs="0"
                                                  name="audioformat_map">
                                                  <xs:complexType>
                                                  <xs:attribute name="from" type="audio_media_type"
                                                  use="required"/>
                                                  <xs:attribute name="to" type="audio_media_type"
                                                  use="required"/>
                                                  </xs:complexType>
                                                </xs:element>
                                                <xs:element maxOccurs="unbounded" minOccurs="0" name="dataformat_map">
                                                    <xs:complexType>
                                                        <xs:attribute name="from" type="data_media_type" use="required"></xs:attribute>
                                                        <xs:attribute name="to" type="data_media_type" use="required"></xs:attribute>
                                                    </xs:complexType>
                                                </xs:element>
                                            </xs:sequence>
                                            <xs:attribute name="from" type="xs:string"
                                                use="required"/>
                                            <xs:attribute name="to" type="xs:string" use="required"
                                            />
                                        </xs:complexType>
                                    </xs:element>
                                    <xs:element maxOccurs="unbounded" minOccurs="0" name="input_map">
                                        <xs:complexType>
                                            <xs:sequence minOccurs="0">
                                                <xs:element maxOccurs="unbounded" minOccurs="0"
                                                  name="inputconnector_map">
                                                  <xs:complexType>
                                                  <xs:sequence minOccurs="0">
                                                  <xs:element maxOccurs="unbounded" minOccurs="0"
                                                  name="videoformat_map">
                                                  <xs:complexType>
                                                  <xs:attribute name="from" type="video_media_type"
                                                  use="required"/>
                                                  <xs:attribute name="to" type="video_media_type"
                                                  use="required"/>
                                                  </xs:complexType>
                                                  </xs:element>
                                                  <xs:element maxOccurs="unbounded" minOccurs="0"
                                                  name="audioformat_map">
                                                  <xs:complexType>
                                                  <xs:attribute name="from" type="audio_media_type"
                                                  use="required"/>
                                                  <xs:attribute name="to" type="audio_media_type"
                                                  use="required"/>
                                                  </xs:complexType>
                                                  </xs:element>
                                                  </xs:sequence>
                                                  </xs:complexType>
                                                </xs:element>
                                            </xs:sequence>
                                            <xs:attribute name="from" type="xs:string"
                                                use="required"/>
                                            <xs:attribute name="to" type="xs:string" use="required"
                                            />
                                        </xs:complexType>
                                    </xs:element>
                                    <xs:element maxOccurs="unbounded" minOccurs="0"
                                        name="output_map">
                                        <xs:complexType>
                                            <xs:sequence minOccurs="0">
                                                <xs:element maxOccurs="unbounded" minOccurs="0"
                                                  name="outputconnector_map">
                                                  <xs:complexType>
                                                  <xs:sequence minOccurs="0">
                                                  <xs:element maxOccurs="unbounded" minOccurs="0"
                                                  name="videoformat_map">
                                                  <xs:complexType>
                                                  <xs:attribute name="from" type="video_media_type"
                                                  use="required"/>
                                                  <xs:attribute name="to" type="video_media_type"
                                                  use="required"/>
                                                  </xs:complexType>
                                                  </xs:element>
                                                  <xs:element maxOccurs="unbounded" minOccurs="0"
                                                  name="audioformat_map">
                                                  <xs:complexType>
                                                  <xs:attribute name="from" type="audio_media_type"
                                                  use="required"/>
                                                  <xs:attribute name="to" type="audio_media_type"
                                                  use="required"/>
                                                  </xs:complexType>
                                                  </xs:element>
                                                  </xs:sequence>
                                                  </xs:complexType>
                                                </xs:element>
                                            </xs:sequence>
                                            <xs:attribute name="from" type="xs:string"
                                                use="required"/>
                                            <xs:attribute name="to" type="xs:string" use="required"
                                            />
                                        </xs:complexType>
                                    </xs:element>
                                    <xs:element maxOccurs="unbounded" minOccurs="0"
                                        name="dataio_map">
                                        <xs:complexType>
                                            <xs:attribute name="from" type="xs:string"
                                                use="required"/>
                                            <xs:attribute name="to" type="xs:string" use="required"
                                            />
                                        </xs:complexType>
                                    </xs:element>
                                </xs:sequence>
                                <xs:attribute name="version" type="xs:string" use="required"/>
                            </xs:complexType>
                        </xs:element>
                    </xs:all>
                    <xs:attribute name="name" type="xs:string" use="required"/>
                </xs:complexType>
            </xs:element>
        </xs:sequence>
    </xs:complexType>

    <xs:complexType name="resource_ui_mappings_t">
        <xs:all>
            <xs:element name="resource_map" type="resource_ui_mapping_t" minOccurs="0"/>
        </xs:all>
    </xs:complexType>
    <xs:complexType name="component_properties_t">
        <xs:sequence>
            <xs:element name="product_id" minOccurs="0" maxOccurs="1">
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:pattern value="[0123456789ABCDEF]{4}"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:element>
            <xs:element name="no_ip_address_required" type="xs:boolean" minOccurs="0" maxOccurs="1"/>
            <xs:element name="connect_button" minOccurs="0" maxOccurs="1">
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:enumeration value="yes"/>
                        <xs:enumeration value="no"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:element>
            <xs:element name="media_metadata_available" type="media_metadata_available_t"
                minOccurs="0" maxOccurs="1"/>
            <xs:element name="coprocessor_required" type="coprocessor_required_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="always_on_allowed" type="xs:boolean" minOccurs="0" maxOccurs="1"/>
            <xs:element name="telephony_allowed" type="xs:boolean" minOccurs="0" maxOccurs="1"/>
            <xs:element name="telephony_endpoint_type" minOccurs="0" maxOccurs="1">
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:enumeration value="savant_call_server"/>
                        <xs:enumeration value="savant_sip_dialer"/>
                        <xs:enumeration value="savant_iDevice"/>
                        <xs:enumeration value="savant_touch_panel"/>
                        <xs:enumeration value="savant_pbx"/>
                        <xs:enumeration value="third_party_ip_phone"/>
                        <xs:enumeration value="third_party_door_entry_system"/>
                        <xs:enumeration value="third_party_ip_gateway"/>
                        <xs:enumeration value="savant_intercom_server"/>
                        <xs:enumeration value="siedle_pbx"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:element>
            <xs:element name="global_call_server_allowed" type="xs:boolean" minOccurs="0"
                maxOccurs="1"/>
            <xs:element name="always_repeat_input_selection" type="xs:boolean" minOccurs="0"
                maxOccurs="1"/>
            <xs:element name="listen_for_third_party_service_requests" minOccurs="0" maxOccurs="1"/>
            <xs:element name="coprocessor_sends_svc_requests" type="xs:boolean" minOccurs="0"
                maxOccurs="1"/>
            <!-- New Savant Features -->
            <xs:element name="zone_master_allowed" type="xs:boolean" minOccurs="0" maxOccurs="1"/>

            <xs:element name="user_interface_support" minOccurs="0" maxOccurs="1">
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:enumeration value="no"/>
                        <xs:enumeration value="yes"/>
                        <xs:enumeration value="required"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:element>

            <xs:element name="allows_user_interface_bundles" minOccurs="0" maxOccurs="1">
                <xs:complexType>
                    <xs:simpleContent>
                        <xs:extension base="xs:string"> <!-- value is yes or no -->
                            <xs:attribute name="instance_limit" type="xs:integer" use="optional"/>
                        </xs:extension>
                    </xs:simpleContent>
                </xs:complexType>
            </xs:element>

            <xs:element name="uiType" minOccurs="0" maxOccurs="1">
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:enumeration value="iPad"/>
                        <xs:enumeration value="iPhone"/>
                        <xs:enumeration value="SSR"/>
                        <xs:enumeration value="OSD"/>
                        <xs:enumeration value="TouchPanel"/>
                        <xs:enumeration value="Remote"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:element>
            <xs:element name="host_os" minOccurs="0" maxOccurs="1">
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:enumeration value="Mac"/>
                        <xs:enumeration value="NUC Linux"/>
                        <xs:enumeration value="ARM Linux"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:element>
            <xs:element name="redundant_host" minOccurs="0" maxOccurs="1">
                <xs:simpleType>
                    <xs:restriction base="xs:boolean"/>
                </xs:simpleType>
            </xs:element>
            <xs:element name="obsolete" minOccurs="0" maxOccurs="1">
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:enumeration value="yes"/>
                        <xs:enumeration value="no"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:element>
            <xs:element name="mjpeg_safe_with_h264" minOccurs="0" maxOccurs="1">
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:enumeration value="yes"/>
                        <xs:enumeration value="no"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:element>
            <xs:element name="preferred_video_codec" minOccurs="0" maxOccurs="1">
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:enumeration value="h264"/>
                        <xs:enumeration value="h264-force"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:element>
            <xs:element name="keypad_server_support" type="xs:integer" minOccurs="0" maxOccurs="1"/>
            <xs:element name="oneway_remote_support" type="xs:integer" minOccurs="0" maxOccurs="1"/>
            <xs:element name="mobile_ui_device" type="xs:boolean" minOccurs="0" maxOccurs="1"/>
            <xs:element name="internal_id" type="xs:string" minOccurs="0" maxOccurs="1"/>
            <xs:element name="avc_type" type="xs:string" minOccurs="0" maxOccurs="1"/>
            <xs:element name="smart_tv_setup" minOccurs="0" maxOccurs="1">
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:enumeration value="samsung_2017"/>
                        <xs:enumeration value="lg_2017"/>
                        <xs:enumeration value="sony_2017"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:element>
            <xs:element name="default_ui_theme_name" type="xs:string" minOccurs="0" maxOccurs="1"/>
            <xs:element name="slot_and_lio_mappings" type="slot_and_lio_mappings_t" minOccurs="0"
                maxOccurs="1"/>
            <xs:element name="energy_monitor_support" type="xs:string" minOccurs="0" maxOccurs="1"/>
            <xs:element name="hvac_monitor_support" type="xs:string" minOccurs="0" maxOccurs="1"/>
            <xs:element name="disable_resources_by_default" minOccurs="0" maxOccurs="unbounded">
                <xs:complexType>
                    <xs:attribute ref="resource_type" use="required"/>
                </xs:complexType>
            </xs:element>
            <xs:element name="requires_stationID" type="xs:boolean" minOccurs="0" maxOccurs="1"/>
            <xs:element name="hvac_scheduler_printf_string" minOccurs="0" maxOccurs="1">
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:pattern value="[-.]*[%]([0123456789+-\. ])*[cCsS@diouxXeEfgGaA]"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:element>
            <!-- stop making new custom XML elements for simple key values! -->
            <xs:element name="custom_properties" type="custom_properties_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="settings" type="settings_t" minOccurs="0" maxOccurs="1"/>
        </xs:sequence>
    </xs:complexType>
    <xs:complexType name="custom_properties_t">
        <xs:sequence>
            <xs:element name="property" type="property_t" minOccurs="0" maxOccurs="unbounded" />
        </xs:sequence>
    </xs:complexType>
    <xs:complexType name="settings_t">
        <xs:sequence>
            <xs:element name="setting" type="setting_t" minOccurs="1" maxOccurs="unbounded" />
        </xs:sequence>
    </xs:complexType>
    <xs:complexType name="property_t">
        <xs:simpleContent>
            <xs:extension base="xs:string">
                <xs:attribute name="type" use="optional">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="string"/>
                            <xs:enumeration value="boolean"/>
                            <xs:enumeration value="integer"/>
                            <xs:enumeration value="float"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
                <xs:attribute name="name" use="required">
                    <xs:simpleType>
                        <xs:restriction base="xs:string"/>
                    </xs:simpleType>
                </xs:attribute>
            </xs:extension>
        </xs:simpleContent>
    </xs:complexType>
    <xs:complexType name="setting_t">
        <xs:sequence>
            <xs:element name="value" type="xs:string" minOccurs="0" maxOccurs="unbounded"/>
        </xs:sequence>
        <xs:attribute name="name" use="optional">
            <xs:simpleType>
                <xs:restriction base="xs:string"/>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="key" use="required">
            <xs:simpleType>
                <xs:restriction base="xs:string"/>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="default" use="required">
            <xs:simpleType>
                <xs:restriction base="xs:string"/>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="type" use="required">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="string"/>
                    <xs:enumeration value="boolean"/>
                    <xs:enumeration value="integer"/>
                    <xs:enumeration value="float"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="units" use="optional">
            <xs:simpleType>
                <xs:restriction base="xs:string"/>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="staticValue" use="optional">
            <xs:simpleType>
                <xs:restriction base="xs:boolean"/>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="add_to_circuits" use="optional">
            <xs:simpleType>
                <xs:restriction base="xs:boolean"/>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="state_variable" use="optional">
            <xs:simpleType>
                <xs:restriction base="xs:string"/>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="min" use="optional">
            <xs:simpleType>
                <xs:union memberTypes="xs:integer xs:float"/>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="max" use="optional">
            <xs:simpleType>
                <xs:union memberTypes="xs:integer xs:float"/>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="step_size" use="optional">
            <xs:simpleType>
                <xs:restriction base="xs:integer"/>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="optional" use="optional">
            <xs:simpleType>
                <xs:restriction base="xs:boolean"/>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="ui_type" use="optional">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="popup_button"/>
                    <xs:enumeration value="combo_button"/>
                    <xs:enumeration value="checkbox"/>
                    <xs:enumeration value="textfield"/>
                    <xs:enumeration value="control_connection"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="control_type" use="optional">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="RS485"/>
                    <xs:enumeration value="RS232"/>
                    <xs:enumeration value="IP"/>
                    <xs:enumeration value="GPIO"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="blueprint_ignore" use="optional">
            <xs:simpleType>
                <xs:restriction base="xs:boolean"/>
            </xs:simpleType>
        </xs:attribute>
    </xs:complexType>

    <xs:complexType name="image_access_t">
        <xs:sequence minOccurs="0" maxOccurs="unbounded">
            <xs:element name="image_format" type="image_format_t"/>
        </xs:sequence>
    </xs:complexType>

    <xs:complexType name="image_format_t">
        <xs:simpleContent>
            <xs:extension base="xs:string">
                <xs:attribute name="format" use="required">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="default"/>
                            <xs:enumeration value="mjpg"/>
                            <xs:enumeration value="jpg"/>
                            <xs:enumeration value="h264"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>

                <xs:attribute name="resolution" use="required">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="default"/>
                            <xs:enumeration value="640x480"/>
                            <xs:enumeration value="320x240"/>
                            <xs:enumeration value="160x120"/>
                            <xs:enumeration value="low"/>
                            <xs:enumeration value="high"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>

                <xs:attribute name="is_default" use="optional">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="yes"/>
                            <xs:enumeration value="no"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
                <xs:attribute name="is_multiview_default" use="optional">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
                            <xs:enumeration value="yes"/>
                            <xs:enumeration value="no"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
		<xs:attribute name="stream_decoder" use="optional">
                    <xs:simpleType>
                        <xs:restriction base="xs:string">
			  <xs:enumeration value="url-connection"/>
                          <xs:enumeration value="duplex-stream"/>
                          <xs:enumeration value="videokit"/>
			  <xs:enumeration value="mjpeg-stream"/>
                        </xs:restriction>
                    </xs:simpleType>
                </xs:attribute>
            </xs:extension>
        </xs:simpleContent>
    </xs:complexType>


    <xs:complexType name="entry_info_t">
        <xs:sequence minOccurs="0" maxOccurs="unbounded">
            <xs:element name="sip_server" type="sip_server_t"/>
        </xs:sequence>
    </xs:complexType>

    <xs:complexType name="sip_server_t">
        <xs:simpleContent>
            <xs:extension base="xs:string">
                <xs:attribute name="sip_domain" use="required">
                    <xs:simpleType>
                        <xs:restriction base="xs:string"/>
                    </xs:simpleType>
                </xs:attribute>

                <xs:attribute name="sip_proxy" use="required">
                    <xs:simpleType>
                        <xs:restriction base="xs:string"/>
                    </xs:simpleType>
                </xs:attribute>

                <xs:attribute name="sip_registrar" use="required">
                    <xs:simpleType>
                        <xs:restriction base="xs:string"/>
                    </xs:simpleType>
                </xs:attribute>

                <xs:attribute name="sip_proxy_port" use="required">
                    <xs:simpleType>
                        <xs:restriction base="xs:nonNegativeInteger"/>
                    </xs:simpleType>
                </xs:attribute>
            </xs:extension>
        </xs:simpleContent>
    </xs:complexType>

    <xs:complexType name="coprocessor_required_t">
        <xs:attribute name="type" use="required">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="emonitor"/>
                    <xs:enumeration value="BACNet"/>
                    <xs:enumeration value="ITv2Protocol"/>
                    <xs:enumeration value="KNX"/>
                    <xs:enumeration value="tandberg"/>
                    <xs:enumeration value="EAWiredControl"/>
                    <xs:enumeration value="EATelephonyControl"/>
                    <xs:enumeration value="LiteInterface"/>
                    <xs:enumeration value="SavantMediaQuery"/>
                    <xs:enumeration value="tstatSingleSetpointEmulator"/>
                    <xs:enumeration value="SavantClimate"/>
                    <xs:enumeration value="LTC"/>
                    <xs:enumeration value="iTunesQuery"/>
                    <xs:enumeration value="doorEntry2N"/>
                    <xs:enumeration value="PJLink"/>
                    <xs:enumeration value="JVCIPConnection"/>
                    <xs:enumeration value="TraneComfortlink2"/>
                    <xs:enumeration value="HueRGB"/>
                    <xs:enumeration value="icRealtimeControl"/>
                    <xs:enumeration value="TeslaPowerwall"/>
                    <xs:enumeration value="SavantPowerStorage"/>
                    <xs:enumeration value="SolarkControl"/>
                    <xs:enumeration value="SolarEdgeControl"/>
                    <xs:enumeration value="SolarkSimulator"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="logical_component_name" use="optional">
            <xs:simpleType>
                <xs:restriction base="xs:string"></xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="resource_component_name" use="optional">
            <xs:simpleType>
                <xs:restriction base="xs:string"></xs:restriction>
            </xs:simpleType>
        </xs:attribute>
    </xs:complexType>

    <xs:complexType name="device_control_rs232_t">
        <xs:sequence>
            <xs:element name="baud_rate" type="device_control_rs232_baud_t" minOccurs="1"
                maxOccurs="unbounded"/>
            <xs:element name="data_length" type="device_control_rs232_datalength_t" minOccurs="1"
                maxOccurs="unbounded"/>
            <xs:element name="parity_bit" type="device_control_rs232_paritybit_t" minOccurs="1"
                maxOccurs="unbounded"/>
            <xs:element name="stop_bit" type="device_control_rs232_stopbit_t" minOccurs="1"
                maxOccurs="unbounded"/>
            <xs:element name="flow_control" type="device_control_rs232_flowcontrol_t" minOccurs="1"
                maxOccurs="unbounded"/>
            <xs:element name="internal_settings" minOccurs="0" maxOccurs="1">
                <xs:complexType>
                    <xs:attribute ref="baud_rate" use="required"/>
                    <xs:attribute ref="data_length" use="required"/>
                    <xs:attribute ref="parity_bit" use="required"/>
                    <xs:attribute ref="stop_bit" use="required"/>
                    <xs:attribute ref="flow_control" use="required"/>
                </xs:complexType>
            </xs:element>
        </xs:sequence>
        <xs:attribute ref="name_on_component" use="required"/>
        <xs:attribute name="connector_type" use="required">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="db9 female"/>
                    <xs:enumeration value="db9 male"/>
                    <xs:enumeration value="db25 female"/>
                    <xs:enumeration value="db25 male"/>
                    <xs:enumeration value="rj11"/>
                    <xs:enumeration value="rj45"/>
                    <xs:enumeration value="rs232 other"/>
                    <xs:enumeration value="rs232 unknown"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="allow_rs232" type="xs:boolean" use="optional"/>
        <xs:attribute name="allow_rs422" type="xs:boolean" use="optional"/>
        <xs:attribute name="allow_rs485" type="xs:boolean" use="optional"/>
        <xs:attribute name="internal_logical_component" type="xs:string" use="optional"/>
    </xs:complexType>

    <xs:complexType name="device_control_rs422_t">
        <xs:sequence>
            <xs:element name="baud_rate" type="device_control_rs232_baud_t" minOccurs="1"
                maxOccurs="unbounded"/>
            <xs:element name="data_length" type="device_control_rs232_datalength_t" minOccurs="1"
                maxOccurs="unbounded"/>
            <xs:element name="parity_bit" type="device_control_rs232_paritybit_t" minOccurs="1"
                maxOccurs="unbounded"/>
            <xs:element name="stop_bit" type="device_control_rs232_stopbit_t" minOccurs="1"
                maxOccurs="unbounded"/>
            <xs:element name="flow_control" type="device_control_rs232_flowcontrol_t" minOccurs="1"
                maxOccurs="unbounded"/>
        </xs:sequence>
        <xs:attribute ref="name_on_component" use="required"/>
        <xs:attribute name="connector_type" use="required">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="db9 female"/>
                    <xs:enumeration value="db9 male"/>
                    <xs:enumeration value="db25 female"/>
                    <xs:enumeration value="db25 male"/>
                    <xs:enumeration value="rj11"/>
                    <xs:enumeration value="rj45"/>
                    <xs:enumeration value="rs422 other"/>
                    <xs:enumeration value="rs422 unknown"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
    </xs:complexType>

    <xs:complexType name="device_control_trigger_t">
        <xs:attribute ref="name_on_component" use="required"/>
        <xs:attribute name="connector_type" use="required">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="trigger_control_minijack"/>
                    <xs:enumeration value="trigger_control_captive_screw"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
        <xs:attribute name="bidirectional" use="optional" type="xs:boolean"> </xs:attribute>
    </xs:complexType>

    <xs:complexType name="device_control_relay_t">
        <xs:attribute ref="name_on_component" use="required"/>
        <xs:attribute name="connector_type" use="required">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="relay_control_minijack"/>
                    <xs:enumeration value="relay_control_captive_screw"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
    </xs:complexType>

    <xs:complexType name="device_control_ir_t">
        <xs:attribute ref="name_on_component" use="required"/>
        <xs:attribute name="connector_type" use="required">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="ir_control_minijack"/>
                    <xs:enumeration value="ir_control_captive_screw"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
    </xs:complexType>

    <xs:complexType name="device_control_serial_pwm_t">
        <xs:attribute ref="name_on_component" use="required"/>
        <xs:attribute name="connector_type" use="required">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="serial_pwm_control_minijack"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
    </xs:complexType>

    <xs:complexType name="device_control_rs232_baud_t">
        <xs:attribute ref="baud_rate" use="required"/>
    </xs:complexType>

    <xs:complexType name="device_control_rs232_datalength_t">
        <xs:attribute ref="data_length" use="required"/>
    </xs:complexType>

    <xs:complexType name="device_control_rs232_paritybit_t">
        <xs:attribute ref="parity_bit" use="required"/>
    </xs:complexType>

    <xs:complexType name="device_control_rs232_stopbit_t">
        <xs:attribute ref="stop_bit" use="required"/>
    </xs:complexType>

    <xs:complexType name="device_control_rs232_flowcontrol_t">
        <xs:attribute ref="flow_control" use="required"/>
    </xs:complexType>

    <!-- Resource Entity Definitions -->

    <xs:complexType name="address_component_t">
        <xs:attribute name="name" type="xs:string" use="required"/>
        <xs:attribute name="note" type="xs:string" use="required"/>
    </xs:complexType>

    <xs:complexType name="unique_identifier_t">
        <!-- Also common_unique_identifier -->
        <xs:attribute name="name" type="xs:string" use="required"/>
        <xs:attribute name="address_component" type="xs:positiveInteger" use="required"/>
        <xs:attribute name="format" type="xs:string" use="optional"/>
    </xs:complexType>

    <xs:complexType name="argument_t">
        <xs:attribute name="name" type="xs:string" use="required"/>
        <xs:attribute name="value" type="xs:string" use="required"/>
    </xs:complexType>

    <xs:complexType name="press_action_t">
        <!-- also release_action, hold_action, toggle_action, toggle_hold_action, toggle_release_action -->
        <xs:sequence>
            <xs:element name="argument" type="argument_t" minOccurs="0" maxOccurs="unbounded"/>
        </xs:sequence>
        <xs:attribute name="name" type="xs:string" use="required"/>
    </xs:complexType>

    <xs:complexType name="toggleOnUsingState_t">
        <!-- also toggleOffUsingState, valueSource -->
        <xs:sequence>
            <xs:element name="unique_identifier" type="unique_identifier_t" minOccurs="0"
                maxOccurs="unbounded"/>
        </xs:sequence>
        <xs:attribute name="name" type="xs:string" use="required"/>
        <xs:attribute name="replaceWildCardWithAddressComponent" type="xs:string" use="optional"/>
        <xs:attribute name="replaceWildCardUsingFormat" type="xs:string" use="optional"/>
    </xs:complexType>

    <xs:complexType name="infobox_representation_t">
        <xs:sequence>
            <xs:element name="valueSource" type="toggleOnUsingState_t" minOccurs="0" maxOccurs="1"/>
        </xs:sequence>
        <xs:attribute name="label" type="xs:string" use="required"/>
    </xs:complexType>


    <xs:complexType name="toggle_button_representation_t">
        <xs:sequence>
            <xs:element name="press_action" type="press_action_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="hold_action" type="press_action_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="release_action" type="press_action_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="toggle_action" type="press_action_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="toggle_hold_action" type="press_action_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="toggle_release_action" type="press_action_t" minOccurs="0"
                maxOccurs="1"/>
            <xs:element name="osd_press_action" type="press_action_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="osd_hold_action" type="press_action_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="toggleOnUsingState" type="toggleOnUsingState_t" minOccurs="0"
                maxOccurs="1"/>
            <xs:element name="toggleOffUsingState" type="toggleOnUsingState_t" minOccurs="0"
                maxOccurs="1"/>
        </xs:sequence>
        <xs:attribute name="sendReleaseActionAfterHoldAction" use="optional">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="true"/>
                    <xs:enumeration value="false"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
    </xs:complexType>
    <!--
    <xs:complexType name="osd_button_representation_t">
        <xs:sequence>
            <xs:element name="press_action" type="press_action_t" minOccurs="0" maxOccurs="1"></xs:element>
            <xs:element name="hold_action" type="press_action_t" minOccurs="0" maxOccurs="1"></xs:element>
            <xs:element name="release_action" type="press_action_t" minOccurs="0" maxOccurs="1"></xs:element>
            <xs:element name="toggle_action" type="press_action_t" minOccurs="0" maxOccurs="1"></xs:element>
            <xs:element name="toggle_hold_action" type="press_action_t" minOccurs="0" maxOccurs="1"></xs:element>
            <xs:element name="toggle_release_action" type="press_action_t" minOccurs="0" maxOccurs="1"></xs:element>
            <xs:element name="toggleOnUsingState" type="toggleOnUsingState_t" minOccurs="0" maxOccurs="1"></xs:element>
            <xs:element name="toggleOffUsingState" type="toggleOnUsingState_t" minOccurs="0" maxOccurs="1"></xs:element>
        </xs:sequence>
        <xs:attribute name="sendReleaseActionAfterHoldAction" use="optional">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="true"></xs:enumeration>
                    <xs:enumeration value="false"></xs:enumeration>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
    </xs:complexType>
    -->
    <xs:complexType name="push_button_representation_t">
        <xs:sequence>
            <xs:element name="press_action" type="press_action_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="hold_action" type="press_action_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="release_action" type="press_action_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="osd_press_action" type="press_action_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="osd_hold_action" type="press_action_t" minOccurs="0" maxOccurs="1"/>
        </xs:sequence>
        <xs:attribute name="sendReleaseActionAfterHoldAction" use="optional">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="true"/>
                    <xs:enumeration value="false"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
    </xs:complexType>

    <xs:complexType name="slider_representation_t">
        <xs:sequence>
            <xs:element name="press_action" type="press_action_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="release_action" type="press_action_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="valueSource" type="toggleOnUsingState_t" minOccurs="0" maxOccurs="1"/>
        </xs:sequence>
    </xs:complexType>

    <xs:complexType name="kelvin_slider_representation_t">
        <xs:sequence>
            <xs:element name="press_action" type="press_action_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="release_action" type="press_action_t" minOccurs="0" maxOccurs="1"/>
            <xs:element name="valueSource" type="toggleOnUsingState_t" minOccurs="0" maxOccurs="1"/>
        </xs:sequence>
    </xs:complexType>

    <xs:complexType name="group_representation_t">
        <xs:sequence>
            <xs:element name="push_button_representation" type="push_button_representation_t"
                minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="toggle_button_representation" type="toggle_button_representation_t"
                minOccurs="0" maxOccurs="unbounded"/>
            <xs:element name="slider_representation" type="slider_representation_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="infobox_representation" type="infobox_representation_t" minOccurs="0"
                maxOccurs="unbounded"/>
        </xs:sequence>
    </xs:complexType>

    <xs:complexType name="security_zone_group_representation_t">
        <xs:sequence>
            <xs:element name="status_valueSource" type="toggleOnUsingState_t" minOccurs="0"
                maxOccurs="1"/>
            <xs:element name="label_valueSource" type="toggleOnUsingState_t" minOccurs="0"
                maxOccurs="1"/>
            <xs:element name="bypass_release_action" type="press_action_t" minOccurs="0"
                maxOccurs="1"/>
            <xs:element name="bypass_toggle_release_action" type="press_action_t" minOccurs="0"
                maxOccurs="1"/>
            <xs:element name="bypass_toggleOnUsingState" type="toggleOnUsingState_t" minOccurs="0"
                maxOccurs="1"/>
            <xs:element name="address_component" type="address_component_t" minOccurs="0"
                maxOccurs="unbounded"/>
        </xs:sequence>
        <xs:attribute name="supports_bypass" use="required">
            <xs:simpleType>
                <xs:restriction base="xs:string">
                    <xs:enumeration value="yes"/>
                    <xs:enumeration value="no"/>
                </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
    </xs:complexType>

    <xs:complexType name="security_partition_group_representation_t">
        <xs:sequence>
            <xs:element name="status_valueSource" type="toggleOnUsingState_t" minOccurs="0"
                maxOccurs="1"/>
            <xs:element name="label_valueSource" type="toggleOnUsingState_t" minOccurs="0"
                maxOccurs="1"/>
            <xs:element name="address_component" type="address_component_t" minOccurs="0"
                maxOccurs="unbounded"/>
        </xs:sequence>
        <xs:attribute name="screen_unique_identifier_format" use="required">
            <xs:simpleType>
                <xs:restriction base="xs:string"> </xs:restriction>
            </xs:simpleType>
        </xs:attribute>
    </xs:complexType>

    <xs:complexType name="screen_representation_t">
        <xs:sequence>
            <xs:element name="common_unique_identifier" type="unique_identifier_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="infobox_representation" type="infobox_representation_t" minOccurs="0"
                maxOccurs="unbounded"/>
            <xs:element name="address_component" type="address_component_t" minOccurs="0"
                maxOccurs="unbounded"/>
        </xs:sequence>
    </xs:complexType>

    <xs:group name="entity_representation_g">
        <xs:choice>
            <xs:element name="push_button_representation" type="push_button_representation_t"/>
            <xs:element name="toggle_button_representation" type="toggle_button_representation_t"/>
            <xs:element name="group_representation" type="group_representation_t"/>
            <xs:element name="slider_representation" type="slider_representation_t"/>
            <xs:element name="kelvin_slider_representation" type="kelvin_slider_representation_t"/>
            <xs:element name="screen_representation" type="screen_representation_t"/>
            <xs:element name="infobox_representation" type="infobox_representation_t"/>
            <xs:element name="security_zone_group_representation"
                type="security_zone_group_representation_t"/>
            <xs:element name="security_partition_group_representation"
                type="security_partition_group_representation_t"/>

            <!-- <xs:element name="osd_button_representation" type="osd_button_representation_t"></xs:element> -->
        </xs:choice>
    </xs:group>

    <xs:complexType name="entity_t">
        <xs:sequence>
            <xs:group ref="entity_representation_g" minOccurs="1" maxOccurs="unbounded"/>
            <xs:element name="query_status_with_action" minOccurs="0" maxOccurs="unbounded">
                <xs:complexType>
                    <xs:sequence>
                        <xs:element name="with_arg" minOccurs="0" maxOccurs="unbounded">
                            <xs:complexType>
                                <xs:attribute name="name" type="xs:string" use="required"/>
                                <xs:attribute name="address_component" type="xs:integer"
                                    use="required"/>
                                <xs:attribute name="format" type="xs:string" use="optional"/>
                            </xs:complexType>
                        </xs:element>
                    </xs:sequence>
                    <xs:attribute name="name" type="xs:string" use="required"/>
                    <xs:attribute name="period_ms" type="xs:integer" use="required"/>
                    <xs:attribute name="send_on_reconnect" type="xs:boolean" use="optional"/>
                </xs:complexType>
            </xs:element>
        </xs:sequence>
        <xs:attribute name="name" type="xs:string" use="required"/>
        <xs:attribute name="address_components" type="xs:unsignedInt" use="required"/>
        <xs:attribute name="supports_child_entities" type="xs:boolean" use="optional"/>
        <xs:attribute name="default_address_1" type="xs:string" use="optional"></xs:attribute>
        <xs:attribute name="default_address_2" type="xs:string" use="optional"></xs:attribute>
        <xs:attribute name="max_entities" type="xs:unsignedInt" use="optional"></xs:attribute>
    </xs:complexType>


    <xs:element name="newElement"/>
</xs:schema>
